2025-08-07 23:13:33,186 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-08-07 23:13:33,186 - root - INFO - main:354 - ================================================================================
2025-08-07 23:13:33,186 - root - INFO - main:355 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-08-07 23:13:33,186 - root - INFO - main:356 - ================================================================================
2025-08-07 23:13:33,186 - root - INFO - main:357 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-08-07 23:13:33,186 - root - INFO - main:358 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-08-07 23:13:33,197 - root - INFO - main:359 - Config file: configurations\block_config.yaml
2025-08-07 23:13:33,197 - root - INFO - timer:89 - Starting: Configuration loading
2025-08-07 23:13:33,198 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-08-07 23:13:33,203 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-08-07 23:13:33,205 - root - INFO - validate_processing_config:160 - Configuration validation passed
2025-08-07 23:13:33,206 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-08-07 23:13:33,207 - root - INFO - main:386 - Processing dataset: block
2025-08-07 23:13:33,208 - root - INFO - main:387 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-07 23:13:33,208 - root - INFO - main:388 - Test images: 5 files
2025-08-07 23:13:33,208 - root - INFO - timer:89 - Starting: Reference image loading
2025-08-07 23:13:34,906 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-08-07 23:13:34,906 - root - INFO - timer:93 - Completed: Reference image loading in 1.70 seconds
2025-08-07 23:13:34,906 - root - INFO - timer:89 - Starting: Test images loading
2025-08-07 23:13:35,542 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-08-07 23:13:36,342 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-08-07 23:13:36,821 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-08-07 23:13:37,290 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-08-07 23:13:37,753 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-08-07 23:13:37,753 - root - INFO - main:411 - Successfully loaded 5 test images
2025-08-07 23:13:37,753 - root - INFO - timer:93 - Completed: Test images loading in 2.85 seconds
2025-08-07 23:13:37,753 - root - INFO - timer:89 - Starting: Training data preparation
2025-08-07 23:13:37,753 - root - INFO - load_data:84 - Processing 5 images
2025-08-07 23:13:39,089 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-08-07 23:13:39,089 - root - INFO - validate_loaded_data:189 - Data validation passed: 50000 total RGB-LAB pairs available
2025-08-07 23:13:39,089 - root - INFO - main:418 - Loaded data - RGB: 5 images, LAB: 5 images
2025-08-07 23:13:39,089 - root - INFO - efficient_data_sampling:200 - Sampling 800 total samples, max 160 per image
2025-08-07 23:13:39,089 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 1: tuple index out of range
2025-08-07 23:13:39,089 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 2: tuple index out of range
2025-08-07 23:13:39,089 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 3: tuple index out of range
2025-08-07 23:13:39,089 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 4: tuple index out of range
2025-08-07 23:13:39,089 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 5: tuple index out of range
2025-08-07 23:13:39,102 - root - INFO - timer:93 - Completed: Training data preparation in 1.35 seconds
2025-08-07 23:13:39,102 - root - ERROR - main:632 - Main execution failed: No samples could be extracted from any image
2025-08-07 23:13:39,104 - root - INFO - main:639 - ================================================================================
2025-08-07 23:13:39,104 - root - INFO - main:640 - PROCESSING COMPLETED IN 5.92 SECONDS
2025-08-07 23:13:39,105 - root - INFO - main:641 - ================================================================================
2025-08-07 23:13:39,111 - root - WARNING - main:651 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-08-07 23:19:09,464 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-08-07 23:19:09,465 - root - INFO - main:354 - ================================================================================
2025-08-07 23:19:09,465 - root - INFO - main:355 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-08-07 23:19:09,466 - root - INFO - main:356 - ================================================================================
2025-08-07 23:19:09,466 - root - INFO - main:357 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-08-07 23:19:09,466 - root - INFO - main:358 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-08-07 23:19:09,467 - root - INFO - main:359 - Config file: configurations\block_config.yaml
2025-08-07 23:19:09,467 - root - INFO - timer:89 - Starting: Configuration loading
2025-08-07 23:19:09,467 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-08-07 23:19:09,473 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-08-07 23:19:09,475 - root - INFO - validate_processing_config:160 - Configuration validation passed
2025-08-07 23:19:09,476 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-08-07 23:19:09,477 - root - INFO - main:386 - Processing dataset: block
2025-08-07 23:19:09,478 - root - INFO - main:387 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-07 23:19:09,478 - root - INFO - main:388 - Test images: 5 files
2025-08-07 23:19:09,478 - root - INFO - timer:89 - Starting: Reference image loading
2025-08-07 23:19:11,090 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-08-07 23:19:11,090 - root - INFO - timer:93 - Completed: Reference image loading in 1.61 seconds
2025-08-07 23:19:11,090 - root - INFO - timer:89 - Starting: Test images loading
2025-08-07 23:19:11,774 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-08-07 23:19:12,574 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-08-07 23:19:13,034 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-08-07 23:19:13,480 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-08-07 23:19:13,921 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-08-07 23:19:13,921 - root - INFO - main:411 - Successfully loaded 5 test images
2025-08-07 23:19:13,922 - root - INFO - timer:93 - Completed: Test images loading in 2.83 seconds
2025-08-07 23:19:13,922 - root - INFO - timer:89 - Starting: Training data preparation
2025-08-07 23:19:13,923 - root - INFO - load_data:84 - Processing 5 images
2025-08-07 23:19:15,196 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-08-07 23:19:15,206 - root - INFO - validate_loaded_data:189 - Data validation passed: 50000 total RGB-LAB pairs available
2025-08-07 23:19:15,206 - root - INFO - main:418 - Loaded data - RGB: 5 images, LAB: 5 images
2025-08-07 23:19:15,206 - root - INFO - efficient_data_sampling:200 - Sampling 800 total samples, max 160 per image
2025-08-07 23:19:15,206 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 1: tuple index out of range
2025-08-07 23:19:15,210 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 2: tuple index out of range
2025-08-07 23:19:15,210 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 3: tuple index out of range
2025-08-07 23:19:15,211 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 4: tuple index out of range
2025-08-07 23:19:15,211 - root - ERROR - efficient_data_sampling:253 - Error sampling from image 5: tuple index out of range
2025-08-07 23:19:15,212 - root - INFO - timer:93 - Completed: Training data preparation in 1.29 seconds
2025-08-07 23:19:15,212 - root - ERROR - main:632 - Main execution failed: No samples could be extracted from any image
2025-08-07 23:19:15,213 - root - INFO - main:639 - ================================================================================
2025-08-07 23:19:15,214 - root - INFO - main:640 - PROCESSING COMPLETED IN 5.75 SECONDS
2025-08-07 23:19:15,214 - root - INFO - main:641 - ================================================================================
2025-08-07 23:19:15,214 - root - WARNING - main:651 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-08-08 12:13:47,929 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-08-08 12:13:47,929 - root - INFO - main:418 - ================================================================================
2025-08-08 12:13:47,929 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-08-08 12:13:47,945 - root - INFO - main:420 - ================================================================================
2025-08-08 12:13:47,945 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-08-08 12:13:47,945 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-08-08 12:13:47,945 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-08-08 12:13:47,948 - root - INFO - timer:89 - Starting: Configuration loading
2025-08-08 12:13:47,949 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-08-08 12:13:47,956 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-08-08 12:13:47,958 - root - INFO - validate_processing_config:160 - Configuration validation passed
2025-08-08 12:13:47,958 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-08-08 12:13:47,958 - root - INFO - main:450 - Processing dataset: block
2025-08-08 12:13:47,958 - root - INFO - main:451 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-08 12:13:47,958 - root - INFO - main:452 - Test images: 5 files
2025-08-08 12:13:47,958 - root - INFO - timer:89 - Starting: Reference image loading
2025-08-08 12:13:49,792 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-08-08 12:13:49,792 - root - INFO - timer:93 - Completed: Reference image loading in 1.83 seconds
2025-08-08 12:13:49,792 - root - INFO - timer:89 - Starting: Test images loading
2025-08-08 12:13:50,485 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-08-08 12:13:51,368 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-08-08 12:13:51,967 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-08-08 12:13:52,618 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-08-08 12:13:53,218 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-08-08 12:13:53,218 - root - INFO - main:475 - Successfully loaded 5 test images
2025-08-08 12:13:53,218 - root - INFO - timer:93 - Completed: Test images loading in 3.43 seconds
2025-08-08 12:13:53,218 - root - INFO - timer:89 - Starting: Training data preparation
2025-08-08 12:13:53,218 - root - INFO - load_data:84 - Processing 5 images
2025-08-08 12:13:54,820 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-08-08 12:13:54,827 - root - INFO - validate_loaded_data:189 - Data validation passed: 50000 total RGB-LAB pairs available
2025-08-08 12:13:54,827 - root - INFO - main:482 - Loaded data - RGB: 5 images, LAB: 5 images
2025-08-08 12:13:54,827 - root - INFO - efficient_data_sampling:200 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-08-08 12:13:54,830 - root - INFO - efficient_data_sampling:208 - Sampling 800 total samples, max 160 per image
2025-08-08 12:13:54,836 - root - INFO - efficient_data_sampling:327 - Sampling completed: 800 samples from 5 images
2025-08-08 12:13:54,837 - root - INFO - efficient_data_sampling:328 - RGB range: [21.00, 224.00]
2025-08-08 12:13:54,837 - root - INFO - efficient_data_sampling:329 - LAB ranges: L[6.67, 88.24], a[-3.00, 4.00], b[-3.00, 10.00]
2025-08-08 12:13:54,837 - root - INFO - timer:93 - Completed: Training data preparation in 1.62 seconds
2025-08-08 12:13:54,837 - root - INFO - timer:89 - Starting: Data splitting
2025-08-08 12:13:54,845 - root - INFO - main:492 - Training set: (640, 3), Test set: (160, 3)
2025-08-08 12:13:54,845 - root - INFO - timer:93 - Completed: Data splitting in 0.01 seconds
2025-08-08 12:13:54,846 - root - INFO - timer:89 - Starting: DBN initialization and training
2025-08-08 12:13:54,846 - root - INFO - __init__:46 - Initializing DBN model
2025-08-08 12:13:55,074 - root - INFO - __init__:53 - DBN model initialized
2025-08-08 12:13:55,074 - root - INFO - main:500 - DBN initialized with architecture: 3 -> [100, 50, 25] -> 3
2025-08-08 12:13:55,074 - root - INFO - main:512 - Scaled training data - X: (640, 3), Y: (640, 3)
2025-08-08 12:13:55,074 - root - INFO - main:513 - X range: [0.000, 1.000]
2025-08-08 12:13:55,074 - root - INFO - main:514 - Y range: [-128.000, 127.000]
2025-08-08 12:13:55,156 - root - INFO - main:521 - Initial model has 8 weight layers
2025-08-08 12:13:55,157 - root - INFO - main:523 - Layer 0: shape (3, 100), range [-0.240, 0.241]
2025-08-08 12:13:55,157 - root - INFO - main:523 - Layer 1: shape (100,), range [0.000, 0.000]
2025-08-08 12:13:55,158 - root - INFO - main:523 - Layer 2: shape (100, 50), range [-0.200, 0.200]
2025-08-08 12:13:55,158 - root - INFO - main:523 - Layer 3: shape (50,), range [0.000, 0.000]
2025-08-08 12:13:55,158 - root - INFO - main:523 - Layer 4: shape (50, 25), range [-0.283, 0.282]
2025-08-08 12:13:55,159 - root - INFO - main:523 - Layer 5: shape (25,), range [0.000, 0.000]
2025-08-08 12:13:55,159 - root - INFO - main:523 - Layer 6: shape (25, 3), range [-0.435, 0.444]
2025-08-08 12:13:55,160 - root - INFO - main:523 - Layer 7: shape (3,), range [0.000, 0.000]
2025-08-08 12:13:55,160 - root - INFO - safe_pso_optimization:346 - PSO optimization attempt 1/3
2025-08-08 12:13:55,161 - root - INFO - timer:89 - Starting: PSO optimization
2025-08-08 12:13:55,166 - root - INFO - pso_optimize:130 - Starting PSO optimization with swarmsize=10 and maxiter=20
2025-08-08 12:13:55,168 - root - INFO - timer:93 - Completed: PSO optimization in 0.01 seconds
2025-08-08 12:13:55,169 - root - WARNING - safe_pso_optimization:364 - PSO attempt 1 failed: All upper-bound values must be greater than lower-bound values
2025-08-08 12:13:55,170 - root - INFO - safe_pso_optimization:366 - Retrying with slightly different initialization...
2025-08-08 12:13:55,171 - root - INFO - safe_pso_optimization:346 - PSO optimization attempt 2/3
2025-08-08 12:13:55,171 - root - INFO - timer:89 - Starting: PSO optimization
2025-08-08 12:13:55,175 - root - INFO - pso_optimize:130 - Starting PSO optimization with swarmsize=10 and maxiter=20
2025-08-08 12:13:55,176 - root - INFO - timer:93 - Completed: PSO optimization in 0.01 seconds
2025-08-08 12:13:55,177 - root - WARNING - safe_pso_optimization:364 - PSO attempt 2 failed: All upper-bound values must be greater than lower-bound values
2025-08-08 12:13:55,177 - root - INFO - safe_pso_optimization:366 - Retrying with slightly different initialization...
2025-08-08 12:13:55,178 - root - INFO - safe_pso_optimization:346 - PSO optimization attempt 3/3
2025-08-08 12:13:55,179 - root - INFO - timer:89 - Starting: PSO optimization
2025-08-08 12:13:55,183 - root - INFO - pso_optimize:130 - Starting PSO optimization with swarmsize=10 and maxiter=20
2025-08-08 12:13:55,185 - root - INFO - timer:93 - Completed: PSO optimization in 0.01 seconds
2025-08-08 12:13:55,186 - root - WARNING - safe_pso_optimization:364 - PSO attempt 3 failed: All upper-bound values must be greater than lower-bound values
2025-08-08 12:13:55,187 - root - ERROR - safe_pso_optimization:370 - All PSO attempts failed, using initial weights
2025-08-08 12:13:55,205 - root - INFO - timer:93 - Completed: DBN initialization and training in 0.36 seconds
2025-08-08 12:13:55,205 - root - INFO - timer:89 - Starting: Reference image processing
2025-08-08 12:13:55,206 - root - INFO - process_reference_image:373 - Processing reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-08 12:13:55,207 - root - INFO - load_and_preprocess_image:285 - Loading image from C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-08 12:13:55,643 - root - INFO - load_and_preprocess_image:290 - Starting preprocessing
2025-08-08 12:13:55,643 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 12:13:55,683 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 12:13:57,098 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 12:13:57,446 - root - INFO - estimate_n_colors:33 - Estimated 299 unique colors, setting n_colors to 8
2025-08-08 12:13:58,300 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 12:13:58,300 - root - INFO - preprocess:86 - Resized to 256x256
2025-08-08 12:13:58,300 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 12:13:58,300 - root - INFO - load_and_preprocess_image:295 - Preprocessing completed
2025-08-08 12:13:58,316 - root - INFO - process_reference_image:392 - Resizing preprocessed image to 256x256
2025-08-08 12:13:58,316 - root - INFO - process_reference_image:396 - Subsampling pixels for cluster determination
2025-08-08 12:13:58,323 - root - INFO - determine_optimal_clusters:310 - Determining optimal number of clusters
2025-08-08 12:13:58,327 - root - INFO - determine_optimal_clusters:312 - Number of unique colors after quantization: 25
2025-08-08 12:13:58,330 - root - INFO - optimal_clusters:52 - Unique colors: 25. Adjusted max_k: 5
2025-08-08 12:13:58,331 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:13:58,479 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8018974661827087, CH=309775.375
2025-08-08 12:13:58,479 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:13:58,601 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8096396923065186, CH=522977.25
2025-08-08 12:13:58,616 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:13:58,734 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8081473112106323, CH=632271.1875
2025-08-08 12:13:58,734 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 12:13:58,734 - root - INFO - determine_optimal_clusters:314 - Optimal number of clusters determined: 5
2025-08-08 12:13:58,734 - root - INFO - process_reference_image:403 - Determining the number of clusters using DPC
2025-08-08 12:13:58,750 - root - INFO - optimal_clusters_dpc:178 - Number of unique colors: 25. Adjusting max_k to: 10
2025-08-08 12:13:58,752 - root - INFO - dpc_clustering:128 - Starting Density Peak Clustering
2025-08-08 12:13:58,757 - root - INFO - dpc_clustering:159 - Density Peak Clustering completed
2025-08-08 12:13:58,757 - root - INFO - optimal_clusters_dpc:195 - Optimal number of clusters determined by DPC: 11
2025-08-08 12:13:58,758 - root - INFO - optimal_clusters_dpc:199 - Number of clusters exceeds max_k. Limiting to max_k: 10
2025-08-08 12:13:58,758 - root - INFO - perform_segmentation:331 - Performing K-means segmentation with optimal k
2025-08-08 12:13:58,759 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 5 clusters
2025-08-08 12:13:58,867 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 5 clusters
2025-08-08 12:13:58,883 - root - INFO - convert_colors_to_cielab_dbn:157 - Converting 5 RGB colors to CIELAB using PSO-DBN
2025-08-08 12:13:59,211 - root - INFO - convert_colors_to_cielab_dbn:182 - CIELAB ranges - L: [6.63, 6.66], a: [0.51, 0.51], b: [3.51, 3.52]
2025-08-08 12:13:59,211 - root - INFO - convert_colors_to_cielab_dbn:188 - Conversion using PSO-DBN completed
2025-08-08 12:13:59,211 - root - INFO - perform_segmentation:344 - Performing SOM segmentation with optimal k
2025-08-08 12:13:59,211 - root - INFO - som_segmentation:36 - Starting SOM segmentation with 5 clusters
2025-08-08 12:14:00,968 - root - INFO - som_segmentation:46 - SOM segmentation completed with 5 clusters
2025-08-08 12:14:00,968 - root - INFO - convert_colors_to_cielab_dbn:157 - Converting 5 RGB colors to CIELAB using PSO-DBN
2025-08-08 12:14:01,100 - root - INFO - convert_colors_to_cielab_dbn:182 - CIELAB ranges - L: [6.63, 6.66], a: [0.51, 0.51], b: [3.51, 3.52]
2025-08-08 12:14:01,100 - root - INFO - convert_colors_to_cielab_dbn:188 - Conversion using PSO-DBN completed
2025-08-08 12:14:01,100 - root - INFO - save_reference_summary:61 - Saved reference summary to c:\Users\LENOVO\Desktop\prints\output\datasets\block\summaries\reference_summary.png
2025-08-08 12:14:01,100 - root - INFO - main:545 - Reference processed - target colors: 5, DPC k: 10
2025-08-08 12:14:01,100 - root - INFO - timer:93 - Completed: Reference image processing in 5.89 seconds
2025-08-08 12:14:01,100 - root - INFO - timer:89 - Starting: Processing test image 1/5
2025-08-08 12:14:01,100 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block1.jpg
2025-08-08 12:14:01,369 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 12:14:01,400 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 12:14:02,813 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 12:14:03,193 - root - INFO - estimate_n_colors:33 - Estimated 339 unique colors, setting n_colors to 8
2025-08-08 12:14:03,661 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 12:14:03,661 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 12:14:03,661 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 12:14:03,676 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block1\preprocessed.png
2025-08-08 12:14:03,683 - root - INFO - main:582 - Preprocessing completed - unique colors: 143
2025-08-08 12:14:03,683 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 12:14:03,683 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 12:14:03,695 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:14:03,695 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:14:03,930 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:14:03,965 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:14:03,965 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:14:03,982 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:14:06,065 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9778978228569031, CH=4499380.5
2025-08-08 12:14:06,065 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:14:08,122 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9673195481300354, CH=4473806.5
2025-08-08 12:14:08,138 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:14:10,188 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9601771235466003, CH=4387175.0
2025-08-08 12:14:10,188 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:14:10,188 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:14:10,188 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:14:10,213 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:14:10,213 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:14:10,215 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:14:10,215 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:14:10,215 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:14:10,215 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:14:10,224 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:14:10,225 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:14:10,226 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:14:10,226 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:14:10,458 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:14:10,481 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:14:10,481 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:14:10,481 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:14:12,448 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9770684838294983, CH=3872423.25
2025-08-08 12:14:12,448 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:14:14,422 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9669125080108643, CH=3696427.5
2025-08-08 12:14:14,422 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:14:16,509 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9549863338470459, CH=3906277.0
2025-08-08 12:14:16,509 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:14:16,509 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 12:14:16,538 - root - INFO - optimal_clusters:52 - Unique colors: 143. Adjusted max_k: 3
2025-08-08 12:14:16,538 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:14:16,540 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:14:18,523 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9862634539604187, CH=2938546.5
2025-08-08 12:14:18,523 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:14:20,629 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9781255722045898, CH=4450001.0
2025-08-08 12:14:20,629 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:14:21,045 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([189.77363676 205.56860158 207.70635444]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:14:21,045 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.65148189 34.83095499 37.00068606]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:14:21,045 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 12:14:21,045 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:14:21,045 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:14:21,045 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:14:21,069 - root - INFO - optimal_clusters:52 - Unique colors: 143. Adjusted max_k: 2
2025-08-08 12:14:21,069 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:14:21,070 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:14:23,186 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9855248332023621, CH=2766218.75
2025-08-08 12:14:23,186 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:14:23,649 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([172.01280435 185.95363275 188.18993113]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:14:23,649 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.01711934 34.02534979 36.03423868]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:14:23,649 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:14:23,649 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:14:23,649 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:14:23,872 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:14:23,872 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:14:23,872 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:14:25,723 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:14:31,630 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9854848980903625
2025-08-08 12:14:31,630 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:14:33,542 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:14:39,842 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9664593935012817
2025-08-08 12:14:39,842 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:14:42,508 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:14:49,435 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9655418395996094
2025-08-08 12:14:49,435 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:14:51,773 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:14:51,783 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:14:54,175 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:15:02,136 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9697352647781372
2025-08-08 12:15:02,136 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:15:04,599 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:15:11,774 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.967056155204773
2025-08-08 12:15:11,774 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:15:14,649 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:15:14,649 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:15:17,480 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:15:17,480 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:15:19,918 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:15:27,373 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9711868166923523
2025-08-08 12:15:27,375 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=10, min_samples=5
2025-08-08 12:15:27,375 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([36.10661213 35.32624404 37.50797546]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:27,375 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([190.20521605 206.05392861 208.18178804]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:27,383 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:15:27,383 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:15:27,384 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:15:27,384 - root - INFO - process:760 - Processing completed in 83.69s. Successful: 5, Errors: 5
2025-08-08 12:15:27,407 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:27,407 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:27,407 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:27,411 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 83.73 seconds
2025-08-08 12:15:27,412 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 12:15:27,413 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 12:15:27,415 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:15:27,417 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:15:27,659 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:15:27,692 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:15:27,693 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:15:27,695 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:15:29,873 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.977301836013794, CH=3840467.25
2025-08-08 12:15:29,873 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:15:31,861 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9532108306884766, CH=2994654.0
2025-08-08 12:15:31,861 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:15:33,795 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9541583061218262, CH=3886800.25
2025-08-08 12:15:33,795 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:15:33,795 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:15:33,795 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:15:33,816 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:15:33,817 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:15:33,818 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:15:33,819 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:15:33,819 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:15:33,819 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:15:33,829 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:15:33,830 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:15:33,831 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:15:33,831 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:15:34,080 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:15:34,111 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:15:34,111 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:15:34,111 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:15:36,114 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9766125082969666, CH=3759754.5
2025-08-08 12:15:36,114 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:15:38,072 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9669074416160583, CH=4095827.0
2025-08-08 12:15:38,072 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:15:40,156 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8851610422134399, CH=4046268.25
2025-08-08 12:15:40,156 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 12:15:40,156 - root - INFO - segment:538 - Optimal k determined: 4
2025-08-08 12:15:40,175 - root - INFO - optimal_clusters:52 - Unique colors: 143. Adjusted max_k: 4
2025-08-08 12:15:40,175 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:15:40,186 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:15:42,208 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9863293170928955, CH=3079471.75
2025-08-08 12:15:42,208 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:15:44,264 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9776920676231384, CH=4035604.0
2025-08-08 12:15:44,264 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:15:46,313 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9680963158607483, CH=4081348.75
2025-08-08 12:15:46,313 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:15:46,771 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([189.77363676 205.56860158 207.70635444]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:46,771 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.65148189 34.83095499 37.00068606]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:46,771 - root - INFO - segment:594 - SOM segmentation completed successfully with k=4
2025-08-08 12:15:46,771 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:15:46,771 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:15:46,779 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:15:46,789 - root - INFO - optimal_clusters:52 - Unique colors: 143. Adjusted max_k: 2
2025-08-08 12:15:46,789 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:15:46,797 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:15:48,784 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9852779507637024, CH=2543870.0
2025-08-08 12:15:48,784 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:15:49,237 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([172.01280435 185.95363275 188.18993113]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:49,237 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.01711934 34.02534979 36.03423868]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:15:49,237 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:15:49,237 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:15:49,237 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:15:49,491 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:15:49,491 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:15:49,491 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:15:51,299 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:15:56,810 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9854848980903625
2025-08-08 12:15:56,820 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:15:58,741 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:16:04,424 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9664593935012817
2025-08-08 12:16:04,424 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:16:06,221 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:16:11,721 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9655418395996094
2025-08-08 12:16:11,721 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:16:13,455 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:16:13,455 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:16:15,255 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:16:20,731 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9697352647781372
2025-08-08 12:16:20,731 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:16:22,381 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:16:27,990 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.967056155204773
2025-08-08 12:16:27,991 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:16:30,202 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:16:30,218 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:16:32,348 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:16:32,351 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:16:34,169 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:16:39,811 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9711868166923523
2025-08-08 12:16:39,811 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=10, min_samples=5
2025-08-08 12:16:39,811 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([36.10661213 35.32624404 37.50797546]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:39,811 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([190.20521605 206.05392861 208.18178804]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:39,811 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:16:39,811 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:16:39,811 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:16:39,811 - root - INFO - process:760 - Processing completed in 72.40s. Successful: 5, Errors: 5
2025-08-08 12:16:39,826 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:39,827 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:39,828 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:39,829 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 72.42 seconds
2025-08-08 12:16:39,829 - root - INFO - timer:93 - Completed: Processing test image 1/5 in 158.73 seconds
2025-08-08 12:16:39,830 - root - INFO - timer:89 - Starting: Processing test image 2/5
2025-08-08 12:16:39,830 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block2.jpg
2025-08-08 12:16:40,127 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 12:16:40,164 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 12:16:41,527 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 12:16:41,849 - root - INFO - estimate_n_colors:33 - Estimated 317 unique colors, setting n_colors to 8
2025-08-08 12:16:42,264 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 12:16:42,264 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 12:16:42,264 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 12:16:42,264 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block2\preprocessed.png
2025-08-08 12:16:42,286 - root - INFO - main:582 - Preprocessing completed - unique colors: 128
2025-08-08 12:16:42,286 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 12:16:42,286 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 12:16:42,288 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:16:42,289 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:16:42,495 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:16:42,518 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:16:42,518 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:16:42,526 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:16:44,426 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9659642577171326, CH=3013249.25
2025-08-08 12:16:44,426 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:16:46,259 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9466119408607483, CH=2930941.5
2025-08-08 12:16:46,259 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:16:48,255 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.873634397983551, CH=3218831.5
2025-08-08 12:16:48,257 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:16:48,257 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:16:48,257 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:16:48,283 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:16:48,284 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:16:48,285 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:16:48,285 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:16:48,286 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:16:48,286 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:16:48,296 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:16:48,297 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:16:48,298 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:16:48,298 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:16:48,527 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:16:48,549 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:16:48,557 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:16:48,559 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:16:50,560 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9685754179954529, CH=3214881.5
2025-08-08 12:16:50,560 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:16:52,538 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9531266689300537, CH=2908600.0
2025-08-08 12:16:52,538 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:16:54,548 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8709375858306885, CH=3184075.75
2025-08-08 12:16:54,548 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:16:54,548 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 12:16:54,579 - root - INFO - optimal_clusters:52 - Unique colors: 128. Adjusted max_k: 3
2025-08-08 12:16:54,580 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:16:54,581 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:16:56,529 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9813973903656006, CH=2563777.5
2025-08-08 12:16:56,529 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:16:58,520 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9684771299362183, CH=3039039.75
2025-08-08 12:16:58,520 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:16:58,958 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([179.64099865 194.52624455 196.54805234]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:58,958 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([38.32624551 38.33384694 41.33949666]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:16:58,958 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 12:16:58,958 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:16:58,958 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:16:58,958 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:16:58,981 - root - INFO - optimal_clusters:52 - Unique colors: 128. Adjusted max_k: 2
2025-08-08 12:16:58,981 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:16:58,981 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:17:00,903 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9823620319366455, CH=3056749.25
2025-08-08 12:17:00,903 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:17:01,292 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([127.54616544 136.8778029  139.26653477]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:01,292 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([37.047487  37.047487  40.0542461]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:01,292 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:17:01,292 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:17:01,292 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:17:01,508 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:17:01,508 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:17:01,508 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:17:03,293 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:17:08,797 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9757245779037476
2025-08-08 12:17:08,797 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:17:10,689 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:17:16,064 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.952234148979187
2025-08-08 12:17:16,064 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:17:17,816 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:17:22,946 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9625219106674194
2025-08-08 12:17:22,946 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:17:24,737 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:17:24,737 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:17:26,507 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:17:26,515 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:17:28,412 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:17:34,165 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9550114274024963
2025-08-08 12:17:34,165 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:17:36,168 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:17:36,168 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:17:38,241 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:17:38,241 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:17:40,076 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:17:45,257 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9651819467544556
2025-08-08 12:17:45,257 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=10, min_samples=5
2025-08-08 12:17:45,272 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([39.15810357 39.23919015 42.24783803]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:45,272 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([180.4201373  195.4085431  197.41174676]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:45,272 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:17:45,272 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:17:45,272 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:17:45,272 - root - INFO - process:760 - Processing completed in 62.98s. Successful: 5, Errors: 5
2025-08-08 12:17:45,283 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:45,283 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:45,284 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:17:45,284 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 63.00 seconds
2025-08-08 12:17:45,285 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 12:17:45,285 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 12:17:45,285 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:17:45,286 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:17:45,479 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:17:45,528 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:17:45,528 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:17:45,528 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:17:47,434 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9676905274391174, CH=3143632.0
2025-08-08 12:17:47,434 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:17:49,291 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9516156315803528, CH=2939928.25
2025-08-08 12:17:49,291 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:17:51,227 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8754326105117798, CH=3233560.75
2025-08-08 12:17:51,227 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:17:51,227 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:17:51,227 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:17:51,262 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:17:51,262 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:17:51,262 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:17:51,265 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:17:51,265 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:17:51,265 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:17:51,265 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:17:51,265 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:17:51,265 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:17:51,275 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:17:51,465 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:17:51,492 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:17:51,492 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:17:51,493 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:17:53,345 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9679087996482849, CH=2902477.75
2025-08-08 12:17:53,345 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:17:55,257 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9488905072212219, CH=2941353.25
2025-08-08 12:17:55,257 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:17:57,173 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8702974319458008, CH=3232046.0
2025-08-08 12:17:57,173 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:17:57,173 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 12:17:57,193 - root - INFO - optimal_clusters:52 - Unique colors: 128. Adjusted max_k: 3
2025-08-08 12:17:57,193 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:17:57,194 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:17:59,046 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9814451932907104, CH=2582755.75
2025-08-08 12:17:59,046 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:18:00,912 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9675896763801575, CH=2913975.25
2025-08-08 12:18:00,912 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:18:01,306 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([179.64099865 194.52624455 196.54805234]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:01,306 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([38.32624551 38.33384694 41.33949666]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:01,306 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 12:18:01,306 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:18:01,306 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:18:01,306 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:18:01,330 - root - INFO - optimal_clusters:52 - Unique colors: 128. Adjusted max_k: 2
2025-08-08 12:18:01,330 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:18:01,337 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:18:03,187 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.982246994972229, CH=3016977.25
2025-08-08 12:18:03,187 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:18:03,597 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([37.047487  37.047487  40.0542461]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:03,597 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([127.54616544 136.8778029  139.26653477]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:03,597 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:18:03,597 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:18:03,597 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:18:03,789 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:18:03,789 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:18:03,789 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:18:05,595 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:18:10,720 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9757245779037476
2025-08-08 12:18:10,720 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:18:12,480 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:18:17,646 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.952234148979187
2025-08-08 12:18:17,646 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:18:19,476 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:18:24,636 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9625219106674194
2025-08-08 12:18:24,652 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:18:26,464 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:18:26,467 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:18:28,345 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:18:28,361 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:18:30,210 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:18:35,345 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9550114274024963
2025-08-08 12:18:35,345 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:18:37,403 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:18:37,403 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:18:39,390 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:18:39,390 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:18:41,182 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:18:46,369 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9651819467544556
2025-08-08 12:18:46,369 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=10, min_samples=5
2025-08-08 12:18:46,384 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([39.15810357 39.23919015 42.24783803]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:46,384 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([180.4201373  195.4085431  197.41174676]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:46,384 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:18:46,384 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:18:46,384 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:18:46,384 - root - INFO - process:760 - Processing completed in 61.10s. Successful: 5, Errors: 5
2025-08-08 12:18:46,398 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:46,398 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:46,399 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:18:46,400 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 61.11 seconds
2025-08-08 12:18:46,400 - root - INFO - timer:93 - Completed: Processing test image 2/5 in 126.57 seconds
2025-08-08 12:18:46,401 - root - INFO - timer:89 - Starting: Processing test image 3/5
2025-08-08 12:18:46,402 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block3.jpg
2025-08-08 12:18:46,569 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 12:18:46,592 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 12:18:47,913 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 12:18:48,228 - root - INFO - estimate_n_colors:33 - Estimated 357 unique colors, setting n_colors to 8
2025-08-08 12:18:48,645 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 12:18:48,645 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 12:18:48,645 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 12:18:48,645 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block3\preprocessed.png
2025-08-08 12:18:48,667 - root - INFO - main:582 - Preprocessing completed - unique colors: 137
2025-08-08 12:18:48,667 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 12:18:48,667 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 12:18:48,675 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:18:48,675 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:18:48,892 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:18:48,930 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:18:48,930 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:18:48,930 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:18:50,748 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8197460174560547, CH=1324740.5
2025-08-08 12:18:50,748 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:18:52,582 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8016997575759888, CH=1490240.75
2025-08-08 12:18:52,582 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:18:54,370 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.6926367878913879, CH=1608069.125
2025-08-08 12:18:54,370 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 12:18:54,370 - root - INFO - segment:420 - Optimal k determined: 4
2025-08-08 12:18:54,370 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 4 clusters
2025-08-08 12:18:54,400 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 4 clusters
2025-08-08 12:18:54,400 - root - INFO - segment:450 - K-means segmentation completed successfully with k=4
2025-08-08 12:18:54,401 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:18:54,401 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:18:54,401 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:18:54,402 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:18:54,411 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:18:54,413 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:18:54,413 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:18:54,414 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:18:54,590 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:18:54,639 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:18:54,639 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:18:54,645 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:18:56,466 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8023900985717773, CH=1451869.875
2025-08-08 12:18:56,466 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:18:58,289 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.7780556082725525, CH=1334247.875
2025-08-08 12:18:58,289 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:19:00,108 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7016564011573792, CH=1572534.0
2025-08-08 12:19:00,108 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:19:00,108 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 12:19:00,132 - root - INFO - optimal_clusters:52 - Unique colors: 137. Adjusted max_k: 3
2025-08-08 12:19:00,134 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:19:00,135 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:19:01,945 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9640339612960815, CH=1679392.0
2025-08-08 12:19:01,945 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:19:03,765 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8115514516830444, CH=1238356.0
2025-08-08 12:19:03,765 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:19:04,165 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([41.90152346 41.50907983 43.50810481]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:04,165 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([184.63748625 195.46900599 195.86819905]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:04,165 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 12:19:04,165 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:19:04,165 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:19:04,165 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:19:04,181 - root - INFO - optimal_clusters:52 - Unique colors: 137. Adjusted max_k: 2
2025-08-08 12:19:04,181 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:19:04,196 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:19:06,022 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9643175601959229, CH=1702107.5
2025-08-08 12:19:06,022 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:19:06,438 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([184.63748625 195.46900599 195.86819905]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:06,438 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([41.90152346 41.50907983 43.50810481]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:06,438 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:19:06,438 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:19:06,438 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:19:06,685 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:19:06,685 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:19:06,685 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:19:08,009 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:19:13,058 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.8971760272979736
2025-08-08 12:19:13,058 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:19:14,382 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 5 clusters
2025-08-08 12:19:19,434 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.8689267039299011
2025-08-08 12:19:19,434 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:19:20,812 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:19:25,833 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.876176118850708
2025-08-08 12:19:25,833 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:19:27,447 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:19:27,447 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:19:28,855 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:19:33,880 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9644997715950012
2025-08-08 12:19:33,880 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:19:35,267 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:19:40,303 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.8826780915260315
2025-08-08 12:19:40,303 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:19:42,239 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:19:42,239 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:19:44,201 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:19:44,216 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:19:45,825 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:19:50,832 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9132982492446899
2025-08-08 12:19:50,832 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=10
2025-08-08 12:19:50,832 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([184.64661286 195.47884568 195.87784299]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:50,832 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([41.90982208 41.51803558 43.51706069]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:50,832 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:19:50,832 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:19:50,832 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:19:50,832 - root - INFO - process:760 - Processing completed in 62.16s. Successful: 5, Errors: 5
2025-08-08 12:19:50,852 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:50,852 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:50,852 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:19:50,852 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 62.19 seconds
2025-08-08 12:19:50,852 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 12:19:50,857 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 12:19:50,857 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:19:50,858 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:19:51,095 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:19:51,150 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:19:51,151 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:19:51,152 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:19:52,998 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.799549400806427, CH=1336092.375
2025-08-08 12:19:52,998 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:19:54,846 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8061458468437195, CH=1478027.125
2025-08-08 12:19:54,854 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:19:56,683 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.6915878653526306, CH=1585040.875
2025-08-08 12:19:56,683 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 12:19:56,683 - root - INFO - segment:420 - Optimal k determined: 4
2025-08-08 12:19:56,683 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 4 clusters
2025-08-08 12:19:56,704 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 4 clusters
2025-08-08 12:19:56,712 - root - INFO - segment:450 - K-means segmentation completed successfully with k=4
2025-08-08 12:19:56,714 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:19:56,714 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:19:56,714 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:19:56,714 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:19:56,714 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:19:56,714 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:19:56,714 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:19:56,724 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:19:56,967 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:19:56,995 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:19:56,996 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:19:56,996 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:19:58,813 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.7988121509552002, CH=1297839.0
2025-08-08 12:19:58,813 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:20:00,695 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8039471507072449, CH=1434205.375
2025-08-08 12:20:00,710 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:20:02,522 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8659929633140564, CH=1411148.5
2025-08-08 12:20:02,522 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 12:20:02,522 - root - INFO - segment:538 - Optimal k determined: 5
2025-08-08 12:20:02,542 - root - INFO - optimal_clusters:52 - Unique colors: 137. Adjusted max_k: 5
2025-08-08 12:20:02,542 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:20:02,544 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:20:04,424 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9646626710891724, CH=1747654.0
2025-08-08 12:20:04,424 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:20:06,227 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8039342164993286, CH=1337924.125
2025-08-08 12:20:06,227 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:20:08,102 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.7962609529495239, CH=1444299.5
2025-08-08 12:20:08,102 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:20:09,871 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7119595408439636, CH=1729535.75
2025-08-08 12:20:09,871 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:20:10,272 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([41.90152346 41.50907983 43.50810481]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:10,272 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([184.63748625 195.46900599 195.86819905]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:10,272 - root - INFO - segment:594 - SOM segmentation completed successfully with k=5
2025-08-08 12:20:10,272 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:20:10,272 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:20:10,272 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:20:10,294 - root - INFO - optimal_clusters:52 - Unique colors: 137. Adjusted max_k: 2
2025-08-08 12:20:10,294 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:20:10,304 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:20:12,114 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9643880128860474, CH=1713665.875
2025-08-08 12:20:12,114 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:20:12,498 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([41.90152346 41.50907983 43.50810481]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:12,498 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([184.63748625 195.46900599 195.86819905]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:12,498 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:20:12,498 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:20:12,498 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:20:12,741 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:20:12,741 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:20:12,741 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:20:14,075 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:20:19,105 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.8971760272979736
2025-08-08 12:20:19,105 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:20:20,473 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 5 clusters
2025-08-08 12:20:25,481 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.8689267039299011
2025-08-08 12:20:25,481 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:20:26,805 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:20:31,837 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.876176118850708
2025-08-08 12:20:31,837 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:20:33,455 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:20:33,455 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:20:34,883 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:20:39,921 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9644997715950012
2025-08-08 12:20:39,921 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:20:41,346 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:20:46,356 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.8826780915260315
2025-08-08 12:20:46,356 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:20:48,295 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:20:48,297 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:20:50,258 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:20:50,258 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:20:51,859 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:20:56,893 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9132982492446899
2025-08-08 12:20:56,893 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=10
2025-08-08 12:20:56,893 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([184.64661286 195.47884568 195.87784299]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:56,893 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([41.90982208 41.51803558 43.51706069]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:56,893 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:20:56,893 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:20:56,893 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:20:56,893 - root - INFO - process:760 - Processing completed in 66.04s. Successful: 5, Errors: 5
2025-08-08 12:20:56,910 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:56,910 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:56,912 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:20:56,912 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 66.06 seconds
2025-08-08 12:20:56,913 - root - INFO - timer:93 - Completed: Processing test image 3/5 in 130.51 seconds
2025-08-08 12:20:56,913 - root - INFO - timer:89 - Starting: Processing test image 4/5
2025-08-08 12:20:56,914 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block4.jpg
2025-08-08 12:20:57,077 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 12:20:57,114 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 12:20:58,448 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 12:20:58,773 - root - INFO - estimate_n_colors:33 - Estimated 258 unique colors, setting n_colors to 8
2025-08-08 12:20:59,196 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 12:20:59,196 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 12:20:59,196 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 12:20:59,196 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block4\preprocessed.png
2025-08-08 12:20:59,218 - root - INFO - main:582 - Preprocessing completed - unique colors: 132
2025-08-08 12:20:59,218 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 12:20:59,218 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 12:20:59,222 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:20:59,222 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:20:59,458 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:20:59,481 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:20:59,481 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:20:59,481 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:21:01,347 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9637612104415894, CH=2540026.0
2025-08-08 12:21:01,347 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:21:03,233 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8072590827941895, CH=2530417.0
2025-08-08 12:21:03,233 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:21:05,074 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8020908236503601, CH=2761140.75
2025-08-08 12:21:05,074 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:21:05,074 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:21:05,074 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:21:05,098 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:21:05,098 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:21:05,099 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:21:05,100 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:21:05,101 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:21:05,101 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:21:05,106 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:21:05,106 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:21:05,106 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:21:05,110 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:21:05,345 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:21:05,374 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:21:05,374 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:21:05,376 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:21:07,198 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9635688662528992, CH=2439120.0
2025-08-08 12:21:07,198 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:21:09,032 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.807256817817688, CH=2430054.5
2025-08-08 12:21:09,032 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:21:10,866 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8393126726150513, CH=3265216.5
2025-08-08 12:21:10,866 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 12:21:10,866 - root - INFO - segment:538 - Optimal k determined: 5
2025-08-08 12:21:10,881 - root - INFO - optimal_clusters:52 - Unique colors: 132. Adjusted max_k: 5
2025-08-08 12:21:10,881 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:21:10,896 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:21:12,798 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9791871309280396, CH=2583157.75
2025-08-08 12:21:12,798 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:21:14,633 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9639386534690857, CH=2703577.0
2025-08-08 12:21:14,633 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:21:16,482 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8458912968635559, CH=2845938.5
2025-08-08 12:21:16,482 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:21:18,310 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8333773612976074, CH=2779331.25
2025-08-08 12:21:18,316 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:21:18,695 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([178.38317536 188.38317536 193.87464455]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:21:18,695 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.48955464 43.32805326 44.56439394]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:21:18,695 - root - ERROR - compute_similarity:355 - Error computing similarity for color 2 ([183.08661645 194.79779838 199.3513905 ]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:21:18,695 - root - INFO - segment:594 - SOM segmentation completed successfully with k=5
2025-08-08 12:21:18,710 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:21:18,710 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:21:18,710 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:21:18,717 - root - INFO - optimal_clusters:52 - Unique colors: 132. Adjusted max_k: 2
2025-08-08 12:21:18,717 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:21:18,730 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:21:20,602 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9791623950004578, CH=2600241.5
2025-08-08 12:21:20,602 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:21:20,985 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([87.6310912  90.79581435 93.42381651]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:21:20,985 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([183.09694323 194.81164483 199.36302766]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:21:20,985 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:21:20,985 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:21:20,985 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:21:21,238 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:21:21,238 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:21:21,238 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:21:22,886 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:21:28,122 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9788525104522705
2025-08-08 12:21:28,122 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:21:29,745 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:21:35,201 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9562206864356995
2025-08-08 12:21:35,201 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:21:36,821 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:21:42,142 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9636821746826172
2025-08-08 12:21:42,142 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:21:44,130 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:21:44,130 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:21:45,866 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:21:51,140 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9788659811019897
2025-08-08 12:21:51,140 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:21:52,795 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:21:58,119 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9534207582473755
2025-08-08 12:21:58,119 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:22:00,137 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:22:00,137 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:22:02,109 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:22:02,109 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:22:03,869 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:22:09,160 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9788689613342285
2025-08-08 12:22:09,160 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=20, min_samples=20
2025-08-08 12:22:09,162 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.26677047 191.01375373 196.08239263]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:09,162 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.14359802 42.95839576 44.18001613]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:09,162 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:22:09,162 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:22:09,162 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:22:09,162 - root - INFO - process:760 - Processing completed in 69.94s. Successful: 5, Errors: 5
2025-08-08 12:22:09,170 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:09,170 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:09,170 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:09,170 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 69.95 seconds
2025-08-08 12:22:09,170 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 12:22:09,170 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 12:22:09,176 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:22:09,176 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:22:09,427 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:22:09,483 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:22:09,483 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:22:09,484 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:22:11,331 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9634754061698914, CH=2661273.0
2025-08-08 12:22:11,331 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:22:13,188 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.84065842628479, CH=2983283.5
2025-08-08 12:22:13,188 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:22:15,069 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8355839848518372, CH=3461462.75
2025-08-08 12:22:15,069 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:22:15,069 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:22:15,069 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:22:15,091 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:22:15,091 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:22:15,091 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:22:15,106 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:22:15,106 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:22:15,107 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:22:15,118 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:22:15,120 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:22:15,120 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:22:15,120 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:22:15,323 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:22:15,362 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:22:15,362 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:22:15,362 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:22:17,222 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9635663032531738, CH=2611883.25
2025-08-08 12:22:17,222 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:22:19,067 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8074272274971008, CH=2638438.0
2025-08-08 12:22:19,067 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:22:20,923 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8318644762039185, CH=2953633.75
2025-08-08 12:22:20,923 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 12:22:20,923 - root - INFO - segment:538 - Optimal k determined: 5
2025-08-08 12:22:20,945 - root - INFO - optimal_clusters:52 - Unique colors: 132. Adjusted max_k: 5
2025-08-08 12:22:20,946 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:22:20,947 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:22:22,773 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9786240458488464, CH=2372995.75
2025-08-08 12:22:22,773 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:22:24,631 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9644725322723389, CH=2589854.25
2025-08-08 12:22:24,631 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:22:26,491 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8468225598335266, CH=2684542.75
2025-08-08 12:22:26,491 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:22:28,410 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8416789174079895, CH=3090947.0
2025-08-08 12:22:28,410 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:22:28,842 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([43.48955464 43.32805326 44.56439394]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:28,842 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([180.49947862 191.26942127 196.33889468]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:28,842 - root - INFO - segment:594 - SOM segmentation completed successfully with k=5
2025-08-08 12:22:28,842 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:22:28,842 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:22:28,842 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:22:28,866 - root - INFO - optimal_clusters:52 - Unique colors: 132. Adjusted max_k: 2
2025-08-08 12:22:28,866 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:22:28,873 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:22:30,717 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.979866623878479, CH=2825805.5
2025-08-08 12:22:30,717 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:22:31,105 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.49947862 191.26942127 196.33889468]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:31,105 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.48955464 43.32805326 44.56439394]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:22:31,105 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:22:31,105 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:22:31,105 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:22:31,328 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:22:31,328 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:22:31,328 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:22:33,163 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:22:38,961 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9788525104522705
2025-08-08 12:22:38,961 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:22:40,748 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:22:45,944 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9562206864356995
2025-08-08 12:22:45,944 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:22:47,558 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:22:52,732 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9636821746826172
2025-08-08 12:22:52,732 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:22:54,667 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:22:54,667 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:22:56,323 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:23:01,720 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9788659811019897
2025-08-08 12:23:01,720 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:23:03,390 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:23:09,353 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9534207582473755
2025-08-08 12:23:09,353 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:23:11,504 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:23:11,504 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:23:13,607 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:23:13,607 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:23:15,341 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:23:21,397 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9788689613342285
2025-08-08 12:23:21,398 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=20, min_samples=20
2025-08-08 12:23:21,399 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.26677047 191.01375373 196.08239263]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:21,399 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.14359802 42.95839576 44.18001613]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:21,399 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:23:21,399 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:23:21,399 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:23:21,399 - root - INFO - process:760 - Processing completed in 72.22s. Successful: 5, Errors: 5
2025-08-08 12:23:21,415 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:21,415 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:21,415 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:21,415 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 72.24 seconds
2025-08-08 12:23:21,415 - root - INFO - timer:93 - Completed: Processing test image 4/5 in 144.50 seconds
2025-08-08 12:23:21,415 - root - INFO - timer:89 - Starting: Processing test image 5/5
2025-08-08 12:23:21,415 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block5.jpg
2025-08-08 12:23:21,611 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 12:23:21,636 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 12:23:23,094 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 12:23:23,445 - root - INFO - estimate_n_colors:33 - Estimated 306 unique colors, setting n_colors to 8
2025-08-08 12:23:23,889 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 12:23:23,891 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 12:23:23,891 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 12:23:23,893 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block5\preprocessed.png
2025-08-08 12:23:23,894 - root - INFO - main:582 - Preprocessing completed - unique colors: 139
2025-08-08 12:23:23,909 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 12:23:23,910 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 12:23:23,911 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:23:23,911 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:23:24,162 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:23:24,203 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:23:24,204 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:23:24,204 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:23:26,139 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9639986157417297, CH=2577958.75
2025-08-08 12:23:26,140 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:23:28,124 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8927728533744812, CH=2557815.25
2025-08-08 12:23:28,125 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:23:30,042 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8661423921585083, CH=2585955.0
2025-08-08 12:23:30,043 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:23:30,044 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:23:30,044 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:23:30,065 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:23:30,065 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:23:30,066 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:23:30,067 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:23:30,068 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:23:30,068 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:23:30,076 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:23:30,079 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:23:30,080 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:23:30,080 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:23:30,344 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:23:30,377 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:23:30,377 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:23:30,379 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:23:32,273 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9642025232315063, CH=2572161.25
2025-08-08 12:23:32,273 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:23:34,164 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9435890913009644, CH=2190823.75
2025-08-08 12:23:34,165 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:23:35,977 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8564795851707458, CH=2301198.25
2025-08-08 12:23:35,979 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:23:35,979 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 12:23:35,997 - root - INFO - optimal_clusters:52 - Unique colors: 139. Adjusted max_k: 3
2025-08-08 12:23:35,998 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:23:35,999 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:23:37,889 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9780147671699524, CH=2107481.5
2025-08-08 12:23:37,890 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:23:39,767 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9631522297859192, CH=2565448.5
2025-08-08 12:23:39,767 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:23:40,156 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([126.79798747 130.69517752 133.6202772 ]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:40,156 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([34.04683761 33.03179487 33.04991453]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:40,156 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 12:23:40,156 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:23:40,156 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:23:40,156 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:23:40,180 - root - INFO - optimal_clusters:52 - Unique colors: 139. Adjusted max_k: 2
2025-08-08 12:23:40,180 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:23:40,192 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:23:42,056 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9781527519226074, CH=2229107.75
2025-08-08 12:23:42,056 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:23:42,440 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([34.04683761 33.03179487 33.04991453]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:42,455 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([126.79798747 130.69517752 133.6202772 ]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:23:42,456 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:23:42,456 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:23:42,457 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:23:42,621 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:23:42,621 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:23:42,621 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:23:44,470 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:23:44,485 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:23:46,291 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:23:51,427 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9537667036056519
2025-08-08 12:23:51,428 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:23:53,350 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:23:58,670 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9550458788871765
2025-08-08 12:23:58,671 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:24:00,697 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:00,699 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:24:02,471 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:02,471 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:24:04,223 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:24:09,516 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9480361938476562
2025-08-08 12:24:09,516 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:24:11,732 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:11,737 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:24:13,899 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:13,899 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:24:15,816 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:24:21,085 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9781758189201355
2025-08-08 12:24:21,085 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=20, min_samples=20
2025-08-08 12:24:21,087 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.9674974  34.58899273 34.99823468]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:21,087 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([175.9693515  183.13399467 187.12836837]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:21,087 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:24:21,087 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:24:21,087 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:24:21,087 - root - INFO - process:760 - Processing completed in 57.18s. Successful: 5, Errors: 5
2025-08-08 12:24:21,101 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:21,101 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:21,102 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:21,102 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 57.19 seconds
2025-08-08 12:24:21,103 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 12:24:21,103 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 12:24:21,104 - root - INFO - process:713 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 12:24:21,105 - root - INFO - process:726 - Processing method: kmeans_opt
2025-08-08 12:24:21,320 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:24:21,365 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:24:21,365 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:24:21,365 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:24:23,243 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9640507102012634, CH=2602102.75
2025-08-08 12:24:23,243 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:24:25,163 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8931003212928772, CH=2557956.0
2025-08-08 12:24:25,163 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:24:27,048 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.882729172706604, CH=2679095.0
2025-08-08 12:24:27,048 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:24:27,048 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 12:24:27,048 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 12:24:27,068 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 12:24:27,068 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 12:24:27,068 - root - ERROR - process:745 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:24:27,076 - root - INFO - process:726 - Processing method: kmeans_predef
2025-08-08 12:24:27,077 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 12:24:27,077 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 12:24:27,085 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 12:24:27,086 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 12:24:27,086 - root - ERROR - process:745 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:24:27,087 - root - INFO - process:726 - Processing method: som_opt
2025-08-08 12:24:27,288 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 12:24:27,336 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 12:24:27,337 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:24:27,339 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:24:29,206 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9641988277435303, CH=2522381.5
2025-08-08 12:24:29,206 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 12:24:31,145 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8920940160751343, CH=2460565.5
2025-08-08 12:24:31,145 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 12:24:32,995 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8909428715705872, CH=2540295.5
2025-08-08 12:24:32,995 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 12:24:32,995 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 12:24:33,011 - root - INFO - optimal_clusters:52 - Unique colors: 139. Adjusted max_k: 3
2025-08-08 12:24:33,011 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:24:33,026 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:24:34,899 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9785157442092896, CH=2320427.75
2025-08-08 12:24:34,899 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 12:24:36,812 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9628028273582458, CH=2503453.0
2025-08-08 12:24:36,812 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:24:37,211 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.67904841 34.28964942 34.68791736]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:37,211 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([175.42882353 182.55102941 186.53661765]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:37,211 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 12:24:37,211 - root - ERROR - process:745 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:24:37,211 - root - INFO - process:726 - Processing method: som_predef
2025-08-08 12:24:37,211 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 12:24:37,231 - root - INFO - optimal_clusters:52 - Unique colors: 139. Adjusted max_k: 2
2025-08-08 12:24:37,232 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 12:24:37,233 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 12:24:39,041 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9781116247177124, CH=2219590.0
2025-08-08 12:24:39,041 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 12:24:39,442 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([126.79798747 130.69517752 133.6202772 ]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:39,442 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([34.04683761 33.03179487 33.04991453]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:24:39,442 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 12:24:39,442 - root - ERROR - process:745 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:24:39,442 - root - INFO - process:726 - Processing method: dbscan
2025-08-08 12:24:39,658 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 12:24:39,658 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 12:24:39,658 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 12:24:41,554 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:41,554 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 12:24:43,361 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:24:48,594 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9537667036056519
2025-08-08 12:24:48,594 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 12:24:50,305 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 12:24:55,487 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9550458788871765
2025-08-08 12:24:55,487 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 12:24:57,416 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:57,416 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 12:24:59,210 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:24:59,210 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 12:25:01,189 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 12:25:06,378 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9480361938476562
2025-08-08 12:25:06,378 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 12:25:08,403 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:25:08,403 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 12:25:10,602 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 12:25:10,618 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 12:25:12,453 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 12:25:17,580 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9781758189201355
2025-08-08 12:25:17,580 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=20, min_samples=20
2025-08-08 12:25:17,580 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.9674974  34.58899273 34.99823468]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:25:17,580 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([175.9693515  183.13399467 187.12836837]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:25:17,580 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 12:25:17,580 - root - ERROR - process:745 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:25:17,580 - root - ERROR - _save_preprocessed_image:777 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 12:25:17,580 - root - INFO - process:760 - Processing completed in 56.48s. Successful: 5, Errors: 5
2025-08-08 12:25:17,595 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:25:17,595 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:25:17,595 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 12:25:17,595 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 56.49 seconds
2025-08-08 12:25:17,595 - root - INFO - timer:93 - Completed: Processing test image 5/5 in 116.18 seconds
2025-08-08 12:25:17,599 - root - INFO - timer:89 - Starting: Results saving
2025-08-08 12:25:17,729 - root - INFO - save_delta_e_results:69 - Saved all Delta E results to c:\Users\LENOVO\Desktop\prints\output\analysis\delta_e\block_delta_e.csv
2025-08-08 12:25:17,729 - root - INFO - main:691 - Saved Delta E results for 20 method combinations
2025-08-08 12:25:17,730 - root - INFO - timer:93 - Completed: Results saving in 0.13 seconds
2025-08-08 12:25:17,730 - root - INFO - main:703 - ================================================================================
2025-08-08 12:25:17,730 - root - INFO - main:704 - PROCESSING COMPLETED IN 689.80 SECONDS
2025-08-08 12:25:17,731 - root - INFO - main:705 - ================================================================================
2025-08-08 12:25:17,801 - root - WARNING - main:715 - Failed to save profiling results: name 'output_directory' is not defined
2025-08-08 13:18:59,088 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-08-08 13:18:59,088 - root - INFO - main:418 - ================================================================================
2025-08-08 13:18:59,088 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-08-08 13:18:59,088 - root - INFO - main:420 - ================================================================================
2025-08-08 13:18:59,088 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-08-08 13:18:59,088 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-08-08 13:18:59,088 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-08-08 13:18:59,088 - root - INFO - timer:89 - Starting: Configuration loading
2025-08-08 13:18:59,088 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-08-08 13:18:59,100 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-08-08 13:18:59,105 - root - INFO - validate_processing_config:160 - Configuration validation passed
2025-08-08 13:18:59,106 - root - INFO - timer:93 - Completed: Configuration loading in 0.02 seconds
2025-08-08 13:18:59,107 - root - INFO - main:450 - Processing dataset: block
2025-08-08 13:18:59,107 - root - INFO - main:451 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-08 13:18:59,107 - root - INFO - main:452 - Test images: 5 files
2025-08-08 13:18:59,108 - root - INFO - timer:89 - Starting: Reference image loading
2025-08-08 13:19:00,376 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-08-08 13:19:00,376 - root - INFO - timer:93 - Completed: Reference image loading in 1.27 seconds
2025-08-08 13:19:00,376 - root - INFO - timer:89 - Starting: Test images loading
2025-08-08 13:19:00,927 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-08-08 13:19:01,718 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-08-08 13:19:02,139 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-08-08 13:19:02,597 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-08-08 13:19:03,046 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-08-08 13:19:03,046 - root - INFO - main:475 - Successfully loaded 5 test images
2025-08-08 13:19:03,046 - root - INFO - timer:93 - Completed: Test images loading in 2.67 seconds
2025-08-08 13:19:03,046 - root - INFO - timer:89 - Starting: Training data preparation
2025-08-08 13:19:03,046 - root - INFO - load_data:84 - Processing 5 images
2025-08-08 13:19:04,326 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-08-08 13:19:04,326 - root - INFO - validate_loaded_data:189 - Data validation passed: 50000 total RGB-LAB pairs available
2025-08-08 13:19:04,326 - root - INFO - main:482 - Loaded data - RGB: 5 images, LAB: 5 images
2025-08-08 13:19:04,326 - root - INFO - efficient_data_sampling:200 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-08-08 13:19:04,326 - root - INFO - efficient_data_sampling:208 - Sampling 800 total samples, max 160 per image
2025-08-08 13:19:04,336 - root - INFO - efficient_data_sampling:327 - Sampling completed: 800 samples from 5 images
2025-08-08 13:19:04,337 - root - INFO - efficient_data_sampling:328 - RGB range: [23.00, 225.00]
2025-08-08 13:19:04,337 - root - INFO - efficient_data_sampling:329 - LAB ranges: L[7.45, 88.24], a[-3.00, 5.00], b[-2.00, 10.00]
2025-08-08 13:19:04,338 - root - INFO - timer:93 - Completed: Training data preparation in 1.29 seconds
2025-08-08 13:19:04,338 - root - INFO - timer:89 - Starting: Data splitting
2025-08-08 13:19:04,340 - root - INFO - main:492 - Training set: (640, 3), Test set: (160, 3)
2025-08-08 13:19:04,341 - root - INFO - timer:93 - Completed: Data splitting in 0.00 seconds
2025-08-08 13:19:04,341 - root - INFO - timer:89 - Starting: DBN initialization and training
2025-08-08 13:19:04,342 - root - INFO - __init__:46 - Initializing DBN model
2025-08-08 13:19:04,506 - root - INFO - __init__:53 - DBN model initialized
2025-08-08 13:19:04,506 - root - INFO - main:500 - DBN initialized with architecture: 3 -> [100, 50, 25] -> 3
2025-08-08 13:19:04,506 - root - INFO - main:512 - Scaled training data - X: (640, 3), Y: (640, 3)
2025-08-08 13:19:04,506 - root - INFO - main:513 - X range: [0.000, 1.000]
2025-08-08 13:19:04,506 - root - INFO - main:514 - Y range: [-128.000, 127.000]
2025-08-08 13:19:04,561 - root - INFO - main:521 - Initial model has 8 weight layers
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 0: shape (3, 100), range [-0.241, 0.238]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 1: shape (100,), range [0.000, 0.000]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 2: shape (100, 50), range [-0.200, 0.200]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 3: shape (50,), range [0.000, 0.000]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 4: shape (50, 25), range [-0.283, 0.282]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 5: shape (25,), range [0.000, 0.000]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 6: shape (25, 3), range [-0.453, 0.446]
2025-08-08 13:19:04,561 - root - INFO - main:523 - Layer 7: shape (3,), range [0.000, 0.000]
2025-08-08 13:19:04,561 - root - INFO - safe_pso_optimization:346 - PSO optimization attempt 1/3
2025-08-08 13:19:04,561 - root - INFO - timer:89 - Starting: PSO optimization
2025-08-08 13:19:04,561 - root - INFO - pso_optimize:130 - Starting PSO optimization with swarmsize=10 and maxiter=20
2025-08-08 13:19:04,572 - root - INFO - timer:93 - Completed: PSO optimization in 0.01 seconds
2025-08-08 13:19:04,572 - root - WARNING - safe_pso_optimization:364 - PSO attempt 1 failed: All upper-bound values must be greater than lower-bound values
2025-08-08 13:19:04,572 - root - INFO - safe_pso_optimization:366 - Retrying with slightly different initialization...
2025-08-08 13:19:04,573 - root - INFO - safe_pso_optimization:346 - PSO optimization attempt 2/3
2025-08-08 13:19:04,574 - root - INFO - timer:89 - Starting: PSO optimization
2025-08-08 13:19:04,578 - root - INFO - pso_optimize:130 - Starting PSO optimization with swarmsize=10 and maxiter=20
2025-08-08 13:19:04,579 - root - INFO - timer:93 - Completed: PSO optimization in 0.01 seconds
2025-08-08 13:19:04,580 - root - WARNING - safe_pso_optimization:364 - PSO attempt 2 failed: All upper-bound values must be greater than lower-bound values
2025-08-08 13:19:04,580 - root - INFO - safe_pso_optimization:366 - Retrying with slightly different initialization...
2025-08-08 13:19:04,581 - root - INFO - safe_pso_optimization:346 - PSO optimization attempt 3/3
2025-08-08 13:19:04,581 - root - INFO - timer:89 - Starting: PSO optimization
2025-08-08 13:19:04,584 - root - INFO - pso_optimize:130 - Starting PSO optimization with swarmsize=10 and maxiter=20
2025-08-08 13:19:04,587 - root - INFO - timer:93 - Completed: PSO optimization in 0.01 seconds
2025-08-08 13:19:04,587 - root - WARNING - safe_pso_optimization:364 - PSO attempt 3 failed: All upper-bound values must be greater than lower-bound values
2025-08-08 13:19:04,587 - root - ERROR - safe_pso_optimization:370 - All PSO attempts failed, using initial weights
2025-08-08 13:19:04,599 - root - INFO - timer:93 - Completed: DBN initialization and training in 0.26 seconds
2025-08-08 13:19:04,599 - root - INFO - timer:89 - Starting: Reference image processing
2025-08-08 13:19:04,599 - root - INFO - process_reference_image:373 - Processing reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-08 13:19:04,603 - root - INFO - load_and_preprocess_image:285 - Loading image from C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-08 13:19:04,975 - root - INFO - load_and_preprocess_image:290 - Starting preprocessing
2025-08-08 13:19:04,975 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 13:19:05,010 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 13:19:06,358 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 13:19:06,744 - root - INFO - estimate_n_colors:33 - Estimated 299 unique colors, setting n_colors to 8
2025-08-08 13:19:07,504 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 13:19:07,504 - root - INFO - preprocess:86 - Resized to 256x256
2025-08-08 13:19:07,504 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 13:19:07,504 - root - INFO - load_and_preprocess_image:295 - Preprocessing completed
2025-08-08 13:19:07,504 - root - INFO - process_reference_image:392 - Resizing preprocessed image to 256x256
2025-08-08 13:19:07,504 - root - INFO - process_reference_image:396 - Subsampling pixels for cluster determination
2025-08-08 13:19:07,519 - root - INFO - determine_optimal_clusters:310 - Determining optimal number of clusters
2025-08-08 13:19:07,522 - root - INFO - determine_optimal_clusters:312 - Number of unique colors after quantization: 24
2025-08-08 13:19:07,523 - root - INFO - optimal_clusters:52 - Unique colors: 24. Adjusted max_k: 5
2025-08-08 13:19:07,524 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:19:07,645 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9454726576805115, CH=340364.0
2025-08-08 13:19:07,645 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:19:07,791 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8226828575134277, CH=443539.0625
2025-08-08 13:19:07,791 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:19:07,908 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.824275553226471, CH=508288.09375
2025-08-08 13:19:07,908 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 13:19:07,924 - root - INFO - determine_optimal_clusters:314 - Optimal number of clusters determined: 5
2025-08-08 13:19:07,924 - root - INFO - process_reference_image:403 - Determining the number of clusters using DPC
2025-08-08 13:19:07,927 - root - INFO - optimal_clusters_dpc:178 - Number of unique colors: 24. Adjusting max_k to: 10
2025-08-08 13:19:07,928 - root - INFO - dpc_clustering:128 - Starting Density Peak Clustering
2025-08-08 13:19:07,931 - root - INFO - dpc_clustering:159 - Density Peak Clustering completed
2025-08-08 13:19:07,932 - root - INFO - optimal_clusters_dpc:195 - Optimal number of clusters determined by DPC: 11
2025-08-08 13:19:07,932 - root - INFO - optimal_clusters_dpc:199 - Number of clusters exceeds max_k. Limiting to max_k: 10
2025-08-08 13:19:07,933 - root - INFO - perform_segmentation:331 - Performing K-means segmentation with optimal k
2025-08-08 13:19:07,934 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 5 clusters
2025-08-08 13:19:08,057 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 5 clusters
2025-08-08 13:19:08,057 - root - INFO - convert_colors_to_cielab_dbn:157 - Converting 5 RGB colors to CIELAB using PSO-DBN
2025-08-08 13:19:08,274 - root - INFO - convert_colors_to_cielab_dbn:182 - CIELAB ranges - L: [7.33, 7.44], a: [1.02, 1.02], b: [4.02, 4.02]
2025-08-08 13:19:08,274 - root - INFO - convert_colors_to_cielab_dbn:188 - Conversion using PSO-DBN completed
2025-08-08 13:19:08,274 - root - INFO - perform_segmentation:344 - Performing SOM segmentation with optimal k
2025-08-08 13:19:08,274 - root - INFO - som_segmentation:36 - Starting SOM segmentation with 5 clusters
2025-08-08 13:19:09,898 - root - INFO - som_segmentation:46 - SOM segmentation completed with 5 clusters
2025-08-08 13:19:09,899 - root - INFO - convert_colors_to_cielab_dbn:157 - Converting 5 RGB colors to CIELAB using PSO-DBN
2025-08-08 13:19:10,004 - root - INFO - convert_colors_to_cielab_dbn:182 - CIELAB ranges - L: [7.33, 7.44], a: [1.02, 1.02], b: [4.02, 4.02]
2025-08-08 13:19:10,005 - root - INFO - convert_colors_to_cielab_dbn:188 - Conversion using PSO-DBN completed
2025-08-08 13:19:10,008 - root - INFO - save_reference_summary:61 - Saved reference summary to c:\Users\LENOVO\Desktop\prints\output\datasets\block\summaries\reference_summary.png
2025-08-08 13:19:10,008 - root - INFO - main:545 - Reference processed - target colors: 5, DPC k: 10
2025-08-08 13:19:10,009 - root - INFO - timer:93 - Completed: Reference image processing in 5.41 seconds
2025-08-08 13:19:10,009 - root - INFO - timer:89 - Starting: Processing test image 1/5
2025-08-08 13:19:10,009 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block1.jpg
2025-08-08 13:19:10,226 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 13:19:10,247 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 13:19:11,573 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 13:19:11,889 - root - INFO - estimate_n_colors:33 - Estimated 339 unique colors, setting n_colors to 8
2025-08-08 13:19:12,313 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 13:19:12,313 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 13:19:12,313 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 13:19:12,313 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block1\preprocessed.png
2025-08-08 13:19:12,332 - root - INFO - main:582 - Preprocessing completed - unique colors: 149
2025-08-08 13:19:12,332 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 13:19:12,333 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 13:19:12,333 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:19:12,334 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:19:12,542 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:19:12,589 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:19:12,590 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:19:12,591 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:19:14,506 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9776042103767395, CH=4589199.0
2025-08-08 13:19:14,506 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:19:16,577 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.967279314994812, CH=4479413.0
2025-08-08 13:19:16,577 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:19:18,654 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.886765718460083, CH=4437456.5
2025-08-08 13:19:18,654 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:19:18,655 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 13:19:18,655 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 13:19:18,676 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 13:19:18,676 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 13:19:18,677 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:19:18,678 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:19:18,678 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:19:18,678 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:19:18,684 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:19:18,684 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:19:18,684 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:19:18,688 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:19:18,895 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:19:18,911 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:19:18,926 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:19:18,928 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:19:20,871 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9773997068405151, CH=4115923.25
2025-08-08 13:19:20,871 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:19:22,880 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9682424664497375, CH=4048389.25
2025-08-08 13:19:22,880 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:19:24,880 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9559104442596436, CH=4217687.0
2025-08-08 13:19:24,880 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:19:24,880 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:19:24,895 - root - INFO - optimal_clusters:52 - Unique colors: 149. Adjusted max_k: 3
2025-08-08 13:19:24,911 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:19:24,912 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:19:26,932 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9854404330253601, CH=2748493.5
2025-08-08 13:19:26,932 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:19:29,075 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9767802953720093, CH=4431899.5
2025-08-08 13:19:29,075 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:19:29,555 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([190.34388742 205.55716799 207.33014512]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:19:29,555 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.65175631 34.83068057 36.99917673]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:19:29,555 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:19:29,555 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:19:29,555 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:19:29,555 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:19:29,579 - root - INFO - optimal_clusters:52 - Unique colors: 149. Adjusted max_k: 2
2025-08-08 13:19:29,580 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:19:29,581 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:19:31,513 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9862390756607056, CH=3133445.0
2025-08-08 13:19:31,529 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:19:31,930 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.65175631 34.83068057 36.99917673]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:19:31,930 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([190.34388742 205.55716799 207.33014512]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:19:31,945 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:19:31,945 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:19:31,945 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:19:32,199 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:19:32,199 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:19:32,199 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:19:34,094 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:19:39,693 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9851913452148438
2025-08-08 13:19:39,693 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:19:41,468 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 5 clusters
2025-08-08 13:19:47,536 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9668957591056824
2025-08-08 13:19:47,536 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:19:49,336 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:19:55,802 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9739336967468262
2025-08-08 13:19:55,802 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:19:57,905 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:19:57,905 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:19:59,725 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:20:05,148 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9852966070175171
2025-08-08 13:20:05,148 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:20:07,014 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:20:13,096 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9686088562011719
2025-08-08 13:20:13,096 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:20:15,114 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:20:15,114 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:20:17,118 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:20:17,118 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:20:18,877 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:20:24,248 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9707057476043701
2025-08-08 13:20:24,248 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=10
2025-08-08 13:20:24,263 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.73424658 34.91986301 37.09082192]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:24,263 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([190.48194628 205.71103038 207.48150594]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:24,263 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:20:24,263 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:20:24,263 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:20:24,267 - root - INFO - process:775 - Processing completed in 71.93s. Successful: 5, Errors: 5
2025-08-08 13:20:24,279 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:24,280 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:24,280 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:24,280 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 71.95 seconds
2025-08-08 13:20:24,280 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 13:20:24,280 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 13:20:24,280 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:20:24,280 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:20:24,501 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:20:24,540 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:20:24,540 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:20:24,540 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:20:26,429 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9774778485298157, CH=4002826.5
2025-08-08 13:20:26,430 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:20:28,331 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9682701230049133, CH=4343900.0
2025-08-08 13:20:28,331 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:20:30,239 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9598364233970642, CH=4331284.5
2025-08-08 13:20:30,239 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 13:20:30,239 - root - INFO - segment:420 - Optimal k determined: 4
2025-08-08 13:20:30,239 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 4 clusters
2025-08-08 13:20:30,270 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 4 clusters
2025-08-08 13:20:30,271 - root - INFO - segment:450 - K-means segmentation completed successfully with k=4
2025-08-08 13:20:30,272 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:20:30,272 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:20:30,273 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:20:30,273 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:20:30,281 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:20:30,281 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:20:30,281 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:20:30,281 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:20:30,482 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:20:30,505 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:20:30,505 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:20:30,505 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:20:32,338 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9768006801605225, CH=4164429.0
2025-08-08 13:20:32,353 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:20:34,230 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9668369293212891, CH=4025395.75
2025-08-08 13:20:34,245 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:20:36,114 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9607675075531006, CH=3719780.75
2025-08-08 13:20:36,114 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:20:36,114 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:20:36,119 - root - INFO - optimal_clusters:52 - Unique colors: 149. Adjusted max_k: 3
2025-08-08 13:20:36,119 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:20:36,136 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:20:38,018 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9856236577033997, CH=2829196.5
2025-08-08 13:20:38,018 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:20:39,850 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9762375950813293, CH=4052265.5
2025-08-08 13:20:39,850 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:20:40,261 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([190.34388742 205.55716799 207.33014512]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:40,261 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.65175631 34.83068057 36.99917673]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:40,261 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:20:40,261 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:20:40,261 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:20:40,261 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:20:40,283 - root - INFO - optimal_clusters:52 - Unique colors: 149. Adjusted max_k: 2
2025-08-08 13:20:40,283 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:20:40,285 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:20:42,217 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9860884547233582, CH=3168537.0
2025-08-08 13:20:42,217 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:20:42,629 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.01711934 34.02534979 36.03423868]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:42,629 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([172.51615094 185.94335047 187.85692114]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:20:42,629 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:20:42,629 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:20:42,629 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:20:42,867 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:20:42,867 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:20:42,867 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:20:44,510 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:20:50,221 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9851913452148438
2025-08-08 13:20:50,222 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:20:51,965 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 5 clusters
2025-08-08 13:20:57,812 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9668957591056824
2025-08-08 13:20:57,813 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:20:59,607 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:21:05,279 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9739336967468262
2025-08-08 13:21:05,279 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:21:07,579 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:21:07,579 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:21:09,467 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:21:14,970 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9852966070175171
2025-08-08 13:21:14,970 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:21:16,691 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:21:21,974 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9686088562011719
2025-08-08 13:21:21,974 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:21:23,962 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:21:23,962 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:21:25,936 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:21:25,936 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:21:27,693 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:21:34,111 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9707057476043701
2025-08-08 13:21:34,111 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=10
2025-08-08 13:21:34,127 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.73424658 34.91986301 37.09082192]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:34,127 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([190.48194628 205.71103038 207.48150594]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:34,127 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:21:34,127 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:21:34,130 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:21:34,130 - root - INFO - process:775 - Processing completed in 69.85s. Successful: 5, Errors: 5
2025-08-08 13:21:34,141 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:34,142 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:34,142 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:34,143 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 69.86 seconds
2025-08-08 13:21:34,143 - root - INFO - timer:93 - Completed: Processing test image 1/5 in 144.13 seconds
2025-08-08 13:21:34,143 - root - INFO - timer:89 - Starting: Processing test image 2/5
2025-08-08 13:21:34,144 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block2.jpg
2025-08-08 13:21:34,450 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 13:21:34,491 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 13:21:35,931 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 13:21:36,301 - root - INFO - estimate_n_colors:33 - Estimated 317 unique colors, setting n_colors to 8
2025-08-08 13:21:36,855 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 13:21:36,855 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 13:21:36,855 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 13:21:36,855 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block2\preprocessed.png
2025-08-08 13:21:36,892 - root - INFO - main:582 - Preprocessing completed - unique colors: 130
2025-08-08 13:21:36,893 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 13:21:36,893 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 13:21:36,894 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:21:36,894 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:21:37,158 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:21:37,186 - root - INFO - optimal_clusters:52 - Unique colors: 48. Adjusted max_k: 5
2025-08-08 13:21:37,186 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:21:37,189 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:21:39,430 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9663403034210205, CH=2631619.75
2025-08-08 13:21:39,430 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:21:41,480 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9487265348434448, CH=2633594.75
2025-08-08 13:21:41,480 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:21:43,532 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8828535079956055, CH=3063052.25
2025-08-08 13:21:43,532 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:21:43,532 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 13:21:43,532 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 13:21:43,561 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 13:21:43,561 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 13:21:43,561 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:21:43,561 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:21:43,561 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:21:43,561 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:21:43,576 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:21:43,576 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:21:43,577 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:21:43,577 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:21:43,801 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:21:43,837 - root - INFO - optimal_clusters:52 - Unique colors: 48. Adjusted max_k: 5
2025-08-08 13:21:43,838 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:21:43,839 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:21:45,853 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9667294025421143, CH=2743645.25
2025-08-08 13:21:45,853 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:21:47,874 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8804492950439453, CH=2537831.0
2025-08-08 13:21:47,874 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:21:49,864 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8618922829627991, CH=2331597.0
2025-08-08 13:21:49,864 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:21:49,864 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:21:49,884 - root - INFO - optimal_clusters:52 - Unique colors: 130. Adjusted max_k: 3
2025-08-08 13:21:49,885 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:21:49,887 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:21:51,868 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9807448983192444, CH=2711114.25
2025-08-08 13:21:51,868 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:21:53,874 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9663686752319336, CH=2903818.0
2025-08-08 13:21:53,889 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:21:54,359 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([38.70568905 37.92164716 41.71873075]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:54,359 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([179.69079145 194.5883238  196.60758351]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:54,359 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:21:54,359 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:21:54,359 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:21:54,359 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:21:54,380 - root - INFO - optimal_clusters:52 - Unique colors: 130. Adjusted max_k: 2
2025-08-08 13:21:54,380 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:21:54,382 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:21:56,295 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9818522334098816, CH=3232695.0
2025-08-08 13:21:56,295 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:21:56,712 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([179.69079145 194.5883238  196.60758351]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:56,712 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([38.70568905 37.92164716 41.71873075]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:21:56,712 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:21:56,712 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:21:56,712 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:21:56,965 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:21:56,965 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:21:56,965 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:21:58,749 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:22:04,151 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9549037218093872
2025-08-08 13:22:04,151 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:22:05,901 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:22:11,184 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9498424530029297
2025-08-08 13:22:11,200 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:22:12,936 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:22:18,250 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9435542821884155
2025-08-08 13:22:18,250 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:22:20,045 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:22:25,297 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=5, silhouette=0.9799163341522217
2025-08-08 13:22:25,297 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:22:27,097 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:22:32,450 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9640886187553406
2025-08-08 13:22:32,450 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:22:34,310 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:22:39,653 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.95567786693573
2025-08-08 13:22:39,653 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:22:41,711 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:22:41,711 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:22:43,684 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:22:43,684 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:22:45,505 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:22:50,758 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9595013856887817
2025-08-08 13:22:50,758 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=5
2025-08-08 13:22:50,758 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([38.73183498 37.95043103 41.74733169]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:22:50,774 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([179.77981928 194.6876506  196.70557229]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:22:50,774 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:22:50,774 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:22:50,774 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:22:50,774 - root - INFO - process:775 - Processing completed in 73.88s. Successful: 5, Errors: 5
2025-08-08 13:22:50,782 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:22:50,782 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:22:50,782 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:22:50,787 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 73.89 seconds
2025-08-08 13:22:50,787 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 13:22:50,788 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 13:22:50,789 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:22:50,789 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:22:50,974 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:22:51,004 - root - INFO - optimal_clusters:52 - Unique colors: 48. Adjusted max_k: 5
2025-08-08 13:22:51,004 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:22:51,004 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:22:52,949 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9674238562583923, CH=2973579.0
2025-08-08 13:22:52,949 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:22:54,854 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8901773691177368, CH=2791150.0
2025-08-08 13:22:54,854 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:22:56,890 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.882155179977417, CH=3091414.0
2025-08-08 13:22:56,890 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:22:56,890 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 13:22:56,890 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 13:22:56,926 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 13:22:56,926 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 13:22:56,926 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:22:56,926 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:22:56,926 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:22:56,926 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:22:56,939 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:22:56,939 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:22:56,940 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:22:56,940 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:22:57,176 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:22:57,238 - root - INFO - optimal_clusters:52 - Unique colors: 48. Adjusted max_k: 5
2025-08-08 13:22:57,239 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:22:57,240 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:22:59,281 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9673720598220825, CH=2988963.25
2025-08-08 13:22:59,281 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:23:01,344 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8880889415740967, CH=2817334.0
2025-08-08 13:23:01,344 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:23:03,402 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8783214688301086, CH=3214818.75
2025-08-08 13:23:03,402 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:23:03,402 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:23:03,420 - root - INFO - optimal_clusters:52 - Unique colors: 130. Adjusted max_k: 3
2025-08-08 13:23:03,421 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:23:03,421 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:23:05,460 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9798423051834106, CH=2383698.75
2025-08-08 13:23:05,460 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:23:07,477 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9657915234565735, CH=2777659.75
2025-08-08 13:23:07,477 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:23:07,946 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([38.70568905 37.92164716 41.71873075]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:23:07,962 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([179.69079145 194.5883238  196.60758351]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:23:07,962 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:23:07,962 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:23:07,962 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:23:07,962 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:23:07,980 - root - INFO - optimal_clusters:52 - Unique colors: 130. Adjusted max_k: 2
2025-08-08 13:23:07,981 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:23:07,983 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:23:10,020 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9803453087806702, CH=2546988.0
2025-08-08 13:23:10,020 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:23:10,521 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([37.09356725 36.07967836 40.07967836]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:23:10,537 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([115.5463355  123.32605863 126.09315961]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:23:10,537 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:23:10,537 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:23:10,537 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:23:10,790 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:23:10,790 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:23:10,790 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:23:12,826 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:23:18,833 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9549037218093872
2025-08-08 13:23:18,833 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:23:20,932 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:23:26,825 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9498424530029297
2025-08-08 13:23:26,825 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:23:28,830 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:23:34,782 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9435542821884155
2025-08-08 13:23:34,782 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:23:36,820 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:23:42,682 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=5, silhouette=0.9799163341522217
2025-08-08 13:23:42,682 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:23:44,738 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:23:50,586 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9640886187553406
2025-08-08 13:23:50,586 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:23:52,655 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:23:58,520 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.95567786693573
2025-08-08 13:23:58,535 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:24:00,868 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:24:00,868 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:24:03,062 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:24:03,062 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:24:05,051 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:24:10,749 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9595013856887817
2025-08-08 13:24:10,749 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=5
2025-08-08 13:24:10,757 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([38.73183498 37.95043103 41.74733169]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:10,757 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([179.77981928 194.6876506  196.70557229]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:10,759 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:24:10,759 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:24:10,759 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:24:10,759 - root - INFO - process:775 - Processing completed in 79.97s. Successful: 5, Errors: 5
2025-08-08 13:24:10,770 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:10,771 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:10,772 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:10,773 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 79.99 seconds
2025-08-08 13:24:10,774 - root - INFO - timer:93 - Completed: Processing test image 2/5 in 156.63 seconds
2025-08-08 13:24:10,775 - root - INFO - timer:89 - Starting: Processing test image 3/5
2025-08-08 13:24:10,775 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block3.jpg
2025-08-08 13:24:10,947 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 13:24:10,969 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 13:24:12,323 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 13:24:12,690 - root - INFO - estimate_n_colors:33 - Estimated 357 unique colors, setting n_colors to 8
2025-08-08 13:24:13,159 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 13:24:13,159 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 13:24:13,159 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 13:24:13,159 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block3\preprocessed.png
2025-08-08 13:24:13,184 - root - INFO - main:582 - Preprocessing completed - unique colors: 142
2025-08-08 13:24:13,185 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 13:24:13,185 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 13:24:13,186 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:24:13,186 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:24:13,460 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:24:13,484 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:24:13,484 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:24:13,484 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:24:15,292 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8160048723220825, CH=1392809.375
2025-08-08 13:24:15,292 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:24:17,097 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.811133086681366, CH=1723984.375
2025-08-08 13:24:17,097 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:24:18,898 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7305607199668884, CH=2113842.0
2025-08-08 13:24:18,898 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 13:24:18,898 - root - INFO - segment:420 - Optimal k determined: 4
2025-08-08 13:24:18,898 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 4 clusters
2025-08-08 13:24:18,921 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 4 clusters
2025-08-08 13:24:18,921 - root - INFO - segment:450 - K-means segmentation completed successfully with k=4
2025-08-08 13:24:18,928 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:24:18,928 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:24:18,929 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:24:18,930 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:24:18,938 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:24:18,939 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:24:18,939 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:24:18,940 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:24:19,146 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:24:19,168 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:24:19,168 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:24:19,168 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:24:20,966 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8229820132255554, CH=1370736.875
2025-08-08 13:24:20,966 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:24:22,750 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8150636553764343, CH=1676569.625
2025-08-08 13:24:22,750 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:24:24,524 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7229701280593872, CH=1725621.25
2025-08-08 13:24:24,524 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 13:24:24,524 - root - INFO - segment:538 - Optimal k determined: 4
2025-08-08 13:24:24,539 - root - INFO - optimal_clusters:52 - Unique colors: 142. Adjusted max_k: 4
2025-08-08 13:24:24,555 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:24:24,556 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:24:26,386 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9653993248939514, CH=1831945.625
2025-08-08 13:24:26,396 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:24:28,179 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8171325922012329, CH=1418679.0
2025-08-08 13:24:28,179 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:24:29,924 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.7198876738548279, CH=1252396.5
2025-08-08 13:24:29,924 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:24:30,340 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([41.84241316 41.56197441 43.85606338]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:30,340 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([184.40628439 195.60312997 196.06149896]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:30,340 - root - INFO - segment:594 - SOM segmentation completed successfully with k=4
2025-08-08 13:24:30,340 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:24:30,340 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:24:30,340 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:24:30,347 - root - INFO - optimal_clusters:52 - Unique colors: 142. Adjusted max_k: 2
2025-08-08 13:24:30,362 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:24:30,364 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:24:32,229 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9654206037521362, CH=1771291.875
2025-08-08 13:24:32,229 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:24:32,630 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([41.84241316 41.56197441 43.85606338]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:32,646 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([184.40628439 195.60312997 196.06149896]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:24:32,646 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:24:32,646 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:24:32,646 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:24:32,840 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:24:32,840 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:24:32,840 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:24:34,171 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:24:39,184 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9637733697891235
2025-08-08 13:24:39,184 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:24:40,503 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 5 clusters
2025-08-08 13:24:45,501 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.8730303049087524
2025-08-08 13:24:45,501 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:24:46,852 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:24:51,853 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.8824108839035034
2025-08-08 13:24:51,853 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:24:53,463 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:24:53,463 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:24:54,911 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:24:59,931 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9225935935974121
2025-08-08 13:24:59,931 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:25:01,370 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:25:06,382 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.921005129814148
2025-08-08 13:25:06,382 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:25:08,249 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:25:08,256 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:25:10,092 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:25:10,092 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:25:11,665 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:25:16,701 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9154441356658936
2025-08-08 13:25:16,701 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=10, min_samples=5
2025-08-08 13:25:16,701 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([184.11540336 195.28649768 195.75042652]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:16,701 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([41.66360968 41.37111763 43.66568843]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:16,701 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:25:16,701 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:25:16,701 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:25:16,701 - root - INFO - process:775 - Processing completed in 63.51s. Successful: 5, Errors: 5
2025-08-08 13:25:16,712 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:16,712 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:16,712 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:16,717 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 63.53 seconds
2025-08-08 13:25:16,717 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 13:25:16,718 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 13:25:16,718 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:25:16,719 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:25:16,901 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:25:16,951 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:25:16,951 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:25:16,951 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:25:18,775 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.820594072341919, CH=1319507.125
2025-08-08 13:25:18,791 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:25:20,595 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.812727689743042, CH=1620331.5
2025-08-08 13:25:20,595 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:25:22,378 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7270004153251648, CH=1791572.5
2025-08-08 13:25:22,378 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-08-08 13:25:22,378 - root - INFO - segment:420 - Optimal k determined: 4
2025-08-08 13:25:22,385 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 4 clusters
2025-08-08 13:25:22,408 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 4 clusters
2025-08-08 13:25:22,408 - root - INFO - segment:450 - K-means segmentation completed successfully with k=4
2025-08-08 13:25:22,410 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:25:22,410 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:25:22,411 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:25:22,411 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:25:22,419 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:25:22,420 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:25:22,421 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:25:22,421 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:25:22,616 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:25:22,650 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:25:22,650 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:25:22,650 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:25:24,452 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8233414888381958, CH=1685029.5
2025-08-08 13:25:24,452 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:25:26,256 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8094766139984131, CH=1583888.875
2025-08-08 13:25:26,256 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:25:28,023 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7248356342315674, CH=1765340.5
2025-08-08 13:25:28,029 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:25:28,029 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:25:28,046 - root - INFO - optimal_clusters:52 - Unique colors: 142. Adjusted max_k: 3
2025-08-08 13:25:28,047 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:25:28,049 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:25:29,839 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9653138518333435, CH=1772527.0
2025-08-08 13:25:29,839 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:25:31,645 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9351964592933655, CH=1281232.125
2025-08-08 13:25:31,645 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:25:32,074 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([41.84241316 41.56197441 43.85606338]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:32,076 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([184.40628439 195.60312997 196.06149896]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:32,076 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:25:32,076 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:25:32,076 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:25:32,076 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:25:32,094 - root - INFO - optimal_clusters:52 - Unique colors: 142. Adjusted max_k: 2
2025-08-08 13:25:32,094 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:25:32,096 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:25:33,897 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9656433463096619, CH=1826331.25
2025-08-08 13:25:33,897 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:25:34,321 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([184.40628439 195.60312997 196.06149896]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:34,321 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([41.84241316 41.56197441 43.85606338]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:25:34,321 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:25:34,321 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:25:34,321 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:25:34,536 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:25:34,536 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:25:34,536 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:25:35,871 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:25:40,871 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9637733697891235
2025-08-08 13:25:40,879 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:25:42,296 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 5 clusters
2025-08-08 13:25:47,298 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.8730303049087524
2025-08-08 13:25:47,298 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:25:48,632 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:25:53,645 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.8824108839035034
2025-08-08 13:25:53,645 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:25:55,223 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:25:55,223 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:25:56,657 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:26:01,686 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9225935935974121
2025-08-08 13:26:01,686 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:26:03,182 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:26:08,191 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.921005129814148
2025-08-08 13:26:08,191 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:26:10,042 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:26:10,042 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:26:11,907 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:26:11,907 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:26:13,473 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:26:18,487 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9154441356658936
2025-08-08 13:26:18,487 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=10, min_samples=5
2025-08-08 13:26:18,487 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([184.11540336 195.28649768 195.75042652]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:18,487 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([41.66360968 41.37111763 43.66568843]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:18,487 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:26:18,487 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:26:18,487 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:26:18,487 - root - INFO - process:775 - Processing completed in 61.77s. Successful: 5, Errors: 5
2025-08-08 13:26:18,509 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:18,509 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:18,509 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:18,509 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 61.79 seconds
2025-08-08 13:26:18,512 - root - INFO - timer:93 - Completed: Processing test image 3/5 in 127.74 seconds
2025-08-08 13:26:18,512 - root - INFO - timer:89 - Starting: Processing test image 4/5
2025-08-08 13:26:18,513 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block4.jpg
2025-08-08 13:26:18,682 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 13:26:18,710 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 13:26:20,041 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 13:26:20,395 - root - INFO - estimate_n_colors:33 - Estimated 258 unique colors, setting n_colors to 8
2025-08-08 13:26:20,859 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 13:26:20,859 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 13:26:20,859 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 13:26:20,859 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block4\preprocessed.png
2025-08-08 13:26:20,886 - root - INFO - main:582 - Preprocessing completed - unique colors: 133
2025-08-08 13:26:20,887 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 13:26:20,887 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 13:26:20,888 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:26:20,888 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:26:21,097 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:26:21,115 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:26:21,116 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:26:21,118 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:26:22,964 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9653033018112183, CH=2591136.75
2025-08-08 13:26:22,964 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:26:24,801 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9145954847335815, CH=2883461.75
2025-08-08 13:26:24,801 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:26:26,624 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9155099391937256, CH=3435282.75
2025-08-08 13:26:26,640 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 13:26:26,640 - root - INFO - segment:420 - Optimal k determined: 5
2025-08-08 13:26:26,640 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 5 clusters
2025-08-08 13:26:26,674 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 5 clusters
2025-08-08 13:26:26,674 - root - INFO - segment:450 - K-means segmentation completed successfully with k=5
2025-08-08 13:26:26,674 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:26:26,674 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:26:26,674 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:26:26,674 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:26:26,688 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:26:26,689 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:26:26,689 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:26:26,690 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:26:26,902 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:26:26,952 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:26:26,952 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:26:26,955 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:26:28,776 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9655117988586426, CH=2545971.0
2025-08-08 13:26:28,776 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:26:30,578 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9072086811065674, CH=2877997.25
2025-08-08 13:26:30,578 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:26:32,383 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9082599878311157, CH=3602870.5
2025-08-08 13:26:32,383 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-08-08 13:26:32,383 - root - INFO - segment:538 - Optimal k determined: 5
2025-08-08 13:26:32,406 - root - INFO - optimal_clusters:52 - Unique colors: 133. Adjusted max_k: 5
2025-08-08 13:26:32,406 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:26:32,411 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:26:34,224 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9789422154426575, CH=2372698.75
2025-08-08 13:26:34,224 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:26:36,054 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9642956852912903, CH=2651397.25
2025-08-08 13:26:36,054 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:26:37,884 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9085956811904907, CH=2863874.0
2025-08-08 13:26:37,884 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:26:39,689 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9032183885574341, CH=3325218.0
2025-08-08 13:26:39,689 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:26:40,090 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.75583366 190.97314561 196.32120975]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:40,090 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([109.39240506 113.         118.01265823]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:40,105 - root - ERROR - compute_similarity:355 - Error computing similarity for color 2 ([42.97069724 42.9759092  44.27739171]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:40,105 - root - INFO - segment:594 - SOM segmentation completed successfully with k=5
2025-08-08 13:26:40,105 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:26:40,105 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:26:40,105 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:26:40,125 - root - INFO - optimal_clusters:52 - Unique colors: 133. Adjusted max_k: 2
2025-08-08 13:26:40,126 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:26:40,127 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:26:41,930 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9793195128440857, CH=2463402.0
2025-08-08 13:26:41,930 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:26:42,315 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.7467744  190.9629871  196.31122117]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:42,315 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.54942027 43.58592584 44.91998622]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:26:42,315 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:26:42,315 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:26:42,331 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:26:42,531 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:26:42,531 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:26:42,531 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:26:44,408 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:26:44,408 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:26:45,965 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:26:51,265 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9462476968765259
2025-08-08 13:26:51,265 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:26:52,855 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:26:58,041 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.955551266670227
2025-08-08 13:26:58,041 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:26:59,944 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:26:59,952 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:27:01,865 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:01,867 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:27:03,472 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:27:08,671 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9558495283126831
2025-08-08 13:27:08,671 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:27:10,575 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:10,575 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:27:12,496 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:12,496 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:27:14,412 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:14,412 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=20
2025-08-08 13:27:14,412 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.77227077 190.99165254 196.33937655]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:14,412 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.13535657 43.14943457 44.46180475]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:14,425 - root - ERROR - compute_similarity:355 - Error computing similarity for color 2 ([121.2173913  125.43478261 130.91304348]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:14,427 - root - INFO - segment:507 - DBSCAN segmentation completed with 3 clusters
2025-08-08 13:27:14,427 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:27:14,428 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:27:14,428 - root - INFO - process:775 - Processing completed in 53.54s. Successful: 5, Errors: 5
2025-08-08 13:27:14,437 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:14,438 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:14,439 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:14,440 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 53.55 seconds
2025-08-08 13:27:14,440 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 13:27:14,441 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 13:27:14,441 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:27:14,442 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:27:14,644 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:27:14,683 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:27:14,683 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:27:14,689 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:27:16,533 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9653782248497009, CH=2680343.5
2025-08-08 13:27:16,533 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:27:18,485 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.917366087436676, CH=3036061.25
2025-08-08 13:27:18,485 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:27:20,414 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9110305905342102, CH=3805039.25
2025-08-08 13:27:20,414 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:27:20,430 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 13:27:20,430 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 13:27:20,453 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 13:27:20,455 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 13:27:20,455 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:27:20,455 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:27:20,456 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:27:20,456 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:27:20,461 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:27:20,461 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:27:20,461 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:27:20,466 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:27:20,661 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:27:20,710 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:27:20,711 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:27:20,713 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:27:22,503 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9658929705619812, CH=2766649.25
2025-08-08 13:27:22,503 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:27:24,308 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9158161878585815, CH=3196853.0
2025-08-08 13:27:24,308 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:27:26,122 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9097583293914795, CH=3995464.0
2025-08-08 13:27:26,122 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:27:26,122 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:27:26,144 - root - INFO - optimal_clusters:52 - Unique colors: 133. Adjusted max_k: 3
2025-08-08 13:27:26,144 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:27:26,149 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:27:27,973 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9792483448982239, CH=2439559.0
2025-08-08 13:27:27,973 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:27:29,786 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9654895663261414, CH=2808885.0
2025-08-08 13:27:29,786 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:27:30,218 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.7467744  190.9629871  196.31122117]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:30,218 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.54942027 43.58592584 44.91998622]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:30,218 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:27:30,218 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:27:30,218 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:27:30,218 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:27:30,239 - root - INFO - optimal_clusters:52 - Unique colors: 133. Adjusted max_k: 2
2025-08-08 13:27:30,239 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:27:30,241 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:27:32,035 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9800271391868591, CH=2671083.5
2025-08-08 13:27:32,035 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:27:32,458 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.7467744  190.9629871  196.31122117]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:32,458 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.54942027 43.58592584 44.91998622]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:27:32,458 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:27:32,458 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:27:32,458 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:27:32,674 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:27:32,674 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:27:32,674 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:27:34,548 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:34,548 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:27:36,114 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:27:41,345 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9462476968765259
2025-08-08 13:27:41,345 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:27:42,912 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:27:48,152 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.955551266670227
2025-08-08 13:27:48,154 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:27:50,046 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:50,046 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:27:51,968 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:27:51,968 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:27:53,579 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:27:58,810 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9558495283126831
2025-08-08 13:27:58,810 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:28:00,747 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:28:00,747 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:28:02,669 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:28:02,669 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:28:04,580 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:28:04,580 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=20
2025-08-08 13:28:04,580 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([180.77227077 190.99165254 196.33937655]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:04,580 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([43.13535657 43.14943457 44.46180475]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:04,580 - root - ERROR - compute_similarity:355 - Error computing similarity for color 2 ([121.2173913  125.43478261 130.91304348]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:04,595 - root - INFO - segment:507 - DBSCAN segmentation completed with 3 clusters
2025-08-08 13:28:04,596 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:28:04,596 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:28:04,596 - root - INFO - process:775 - Processing completed in 50.15s. Successful: 5, Errors: 5
2025-08-08 13:28:04,605 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:04,606 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:04,607 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:04,607 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 50.17 seconds
2025-08-08 13:28:04,608 - root - INFO - timer:93 - Completed: Processing test image 4/5 in 106.10 seconds
2025-08-08 13:28:04,609 - root - INFO - timer:89 - Starting: Processing test image 5/5
2025-08-08 13:28:04,610 - root - INFO - main:558 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block5.jpg
2025-08-08 13:28:04,781 - root - INFO - preprocess:67 - Starting preprocessing
2025-08-08 13:28:04,815 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-08-08 13:28:06,115 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-08-08 13:28:06,447 - root - INFO - estimate_n_colors:33 - Estimated 306 unique colors, setting n_colors to 8
2025-08-08 13:28:06,863 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-08-08 13:28:06,863 - root - INFO - preprocess:86 - Resized to 128x128
2025-08-08 13:28:06,863 - root - INFO - preprocess:88 - Preprocessing completed
2025-08-08 13:28:06,863 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block5\preprocessed.png
2025-08-08 13:28:06,884 - root - INFO - main:582 - Preprocessing completed - unique colors: 131
2025-08-08 13:28:06,885 - root - INFO - timer:89 - Starting: Segmentation with k_type: determined
2025-08-08 13:28:06,885 - root - INFO - main:591 - Starting segmentation with k_type: determined
2025-08-08 13:28:06,886 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:28:06,886 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:28:07,085 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:28:07,127 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:28:07,128 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:28:07,129 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:28:08,944 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9600206017494202, CH=2461933.5
2025-08-08 13:28:08,944 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:28:10,730 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.840390145778656, CH=2098823.25
2025-08-08 13:28:10,730 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:28:12,534 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7598491907119751, CH=2316711.0
2025-08-08 13:28:12,534 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:28:12,534 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 13:28:12,534 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 13:28:12,558 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 13:28:12,558 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 13:28:12,558 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:28:12,558 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:28:12,558 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:28:12,572 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:28:12,602 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:28:12,609 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:28:12,609 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:28:12,609 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:28:12,788 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:28:12,825 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:28:12,825 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:28:12,825 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:28:14,677 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9585099816322327, CH=2438232.25
2025-08-08 13:28:14,677 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:28:16,505 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8950178623199463, CH=2306029.75
2025-08-08 13:28:16,505 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:28:18,344 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8764965534210205, CH=2258421.75
2025-08-08 13:28:18,344 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:28:18,344 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:28:18,368 - root - INFO - optimal_clusters:52 - Unique colors: 131. Adjusted max_k: 3
2025-08-08 13:28:18,369 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:28:18,369 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:28:20,175 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9760174751281738, CH=2204685.0
2025-08-08 13:28:20,175 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:28:22,012 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9578890800476074, CH=2275417.75
2025-08-08 13:28:22,012 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:28:22,412 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.59499479 34.96339937 34.79968717]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:22,412 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([175.51074477 182.54754195 186.63659111]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:22,412 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:28:22,412 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:28:22,412 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:28:22,412 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:28:22,439 - root - INFO - optimal_clusters:52 - Unique colors: 131. Adjusted max_k: 2
2025-08-08 13:28:22,439 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:28:22,439 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:28:24,239 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.976150393486023, CH=2195511.5
2025-08-08 13:28:24,239 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:28:24,640 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([111.79663305 115.1372985  117.49027237]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:24,640 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([33.2157742  33.13189132 32.22975468]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:28:24,640 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:28:24,640 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:28:24,640 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:28:24,834 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:28:24,834 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:28:24,834 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:28:26,376 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:28:31,480 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9750274419784546
2025-08-08 13:28:31,480 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:28:33,085 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:28:38,146 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9530314207077026
2025-08-08 13:28:38,146 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:28:39,696 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:28:44,763 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9286912679672241
2025-08-08 13:28:44,763 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:28:46,695 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:28:46,695 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:28:48,430 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:28:53,531 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9751081466674805
2025-08-08 13:28:53,531 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:28:55,220 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:29:00,317 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9457294940948486
2025-08-08 13:29:00,317 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:29:02,219 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:29:02,219 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:29:04,141 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:29:04,141 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:29:05,912 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:29:11,011 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9541283845901489
2025-08-08 13:29:11,011 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=10
2025-08-08 13:29:11,011 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.60867299 34.9772751  34.81444804]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:11,011 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([175.55323222 182.59313798 186.68281549]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:11,011 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:29:11,011 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:29:11,011 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:29:11,011 - root - INFO - process:775 - Processing completed in 64.13s. Successful: 5, Errors: 5
2025-08-08 13:29:11,028 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:11,028 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:11,028 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:11,034 - root - INFO - timer:93 - Completed: Segmentation with k_type: determined in 64.15 seconds
2025-08-08 13:29:11,034 - root - INFO - timer:89 - Starting: Segmentation with k_type: predefined
2025-08-08 13:29:11,034 - root - INFO - main:591 - Starting segmentation with k_type: predefined
2025-08-08 13:29:11,034 - root - INFO - process:728 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-08-08 13:29:11,035 - root - INFO - process:741 - Processing method: kmeans_opt
2025-08-08 13:29:11,208 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:29:11,263 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:29:11,264 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:29:11,266 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:29:13,147 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9593859314918518, CH=2402662.75
2025-08-08 13:29:13,147 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:29:14,967 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8790680766105652, CH=2141079.0
2025-08-08 13:29:14,967 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:29:16,807 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8761888742446899, CH=2190333.0
2025-08-08 13:29:16,807 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:29:16,807 - root - INFO - segment:420 - Optimal k determined: 3
2025-08-08 13:29:16,807 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-08-08 13:29:16,830 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-08-08 13:29:16,830 - root - INFO - segment:450 - K-means segmentation completed successfully with k=3
2025-08-08 13:29:16,830 - root - ERROR - process:760 - Unexpected error in kmeans_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:29:16,837 - root - INFO - process:741 - Processing method: kmeans_predef
2025-08-08 13:29:16,837 - root - INFO - segment:423 - Using predefined k: 2
2025-08-08 13:29:16,838 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-08-08 13:29:16,846 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-08-08 13:29:16,847 - root - INFO - segment:450 - K-means segmentation completed successfully with k=2
2025-08-08 13:29:16,847 - root - ERROR - process:760 - Unexpected error in kmeans_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:29:16,848 - root - INFO - process:741 - Processing method: som_opt
2025-08-08 13:29:17,054 - root - INFO - determine_k:197 - Determining optimal k for pixels with shape (16384, 3)
2025-08-08 13:29:17,094 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-08-08 13:29:17,094 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:29:17,096 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:29:18,918 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9583690166473389, CH=2260278.0
2025-08-08 13:29:18,918 - root - INFO - optimal_clusters:62 - Testing k=4
2025-08-08 13:29:20,745 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8907884955406189, CH=2164395.75
2025-08-08 13:29:20,745 - root - INFO - optimal_clusters:62 - Testing k=5
2025-08-08 13:29:22,523 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.772443950176239, CH=2357487.75
2025-08-08 13:29:22,523 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-08-08 13:29:22,523 - root - INFO - segment:538 - Optimal k determined: 3
2025-08-08 13:29:22,538 - root - INFO - optimal_clusters:52 - Unique colors: 131. Adjusted max_k: 3
2025-08-08 13:29:22,538 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:29:22,553 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:29:24,363 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9755285978317261, CH=2035923.0
2025-08-08 13:29:24,363 - root - INFO - optimal_clusters:62 - Testing k=3
2025-08-08 13:29:26,159 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9579641819000244, CH=2261224.5
2025-08-08 13:29:26,159 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:29:26,576 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([34.59873451 34.06657    33.60901661]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:26,576 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([144.49988634 149.70425097 153.07797227]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:26,576 - root - INFO - segment:594 - SOM segmentation completed successfully with k=3
2025-08-08 13:29:26,576 - root - ERROR - process:760 - Unexpected error in som_opt: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:29:26,576 - root - INFO - process:741 - Processing method: som_predef
2025-08-08 13:29:26,576 - root - INFO - segment:541 - Using predefined k: 2
2025-08-08 13:29:26,598 - root - INFO - optimal_clusters:52 - Unique colors: 131. Adjusted max_k: 2
2025-08-08 13:29:26,598 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-08-08 13:29:26,606 - root - INFO - optimal_clusters:62 - Testing k=2
2025-08-08 13:29:28,411 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9759535193443298, CH=2114285.5
2025-08-08 13:29:28,411 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-08-08 13:29:28,828 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([175.51074477 182.54754195 186.63659111]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:28,828 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([35.59499479 34.96339937 34.79968717]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:29:28,828 - root - INFO - segment:594 - SOM segmentation completed successfully with k=2
2025-08-08 13:29:28,828 - root - ERROR - process:760 - Unexpected error in som_predef: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:29:28,828 - root - INFO - process:741 - Processing method: dbscan
2025-08-08 13:29:29,065 - root - INFO - segment:466 - Running DBSCAN segmentation with optimal parameters
2025-08-08 13:29:29,065 - root - INFO - optimal_clusters_dbscan:98 - Finding optimal DBSCAN parameters
2025-08-08 13:29:29,065 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=5
2025-08-08 13:29:30,549 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:29:35,624 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=5, silhouette=0.9750274419784546
2025-08-08 13:29:35,624 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=10
2025-08-08 13:29:37,184 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:29:42,837 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=10, silhouette=0.9530314207077026
2025-08-08 13:29:42,837 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=10 and min_samples=20
2025-08-08 13:29:44,337 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:29:49,686 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=10, min_samples=20, silhouette=0.9286912679672241
2025-08-08 13:29:49,686 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=5
2025-08-08 13:29:51,592 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:29:51,607 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=10
2025-08-08 13:29:53,315 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 2 clusters
2025-08-08 13:29:58,482 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=10, silhouette=0.9751081466674805
2025-08-08 13:29:58,482 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=15 and min_samples=20
2025-08-08 13:30:00,303 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 4 clusters
2025-08-08 13:30:05,496 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=15, min_samples=20, silhouette=0.9457294940948486
2025-08-08 13:30:05,496 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=5
2025-08-08 13:30:07,500 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:30:07,500 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=10
2025-08-08 13:30:09,485 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 1 clusters
2025-08-08 13:30:09,485 - root - INFO - dbscan_clustering:80 - Starting DBSCAN Clustering with eps=20 and min_samples=20
2025-08-08 13:30:11,284 - root - INFO - dbscan_clustering:93 - DBSCAN Clustering completed with 3 clusters
2025-08-08 13:30:16,573 - root - INFO - optimal_clusters_dbscan:109 - DBSCAN with eps=20, min_samples=20, silhouette=0.9541283845901489
2025-08-08 13:30:16,581 - root - INFO - optimal_clusters_dbscan:116 - Optimal DBSCAN parameters: eps=15, min_samples=10
2025-08-08 13:30:16,581 - root - ERROR - compute_similarity:355 - Error computing similarity for color 0 ([35.60867299 34.9772751  34.81444804]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:30:16,581 - root - ERROR - compute_similarity:355 - Error computing similarity for color 1 ([175.55323222 182.59313798 186.68281549]): deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:30:16,581 - root - INFO - segment:507 - DBSCAN segmentation completed with 2 clusters
2025-08-08 13:30:16,581 - root - ERROR - process:760 - Unexpected error in dbscan: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:30:16,581 - root - ERROR - _save_preprocessed_image:715 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-08-08 13:30:16,586 - root - INFO - process:775 - Processing completed in 65.55s. Successful: 5, Errors: 5
2025-08-08 13:30:16,595 - root - ERROR - main:664 - Delta E calculation failed for som_opt: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:30:16,595 - root - ERROR - main:664 - Delta E calculation failed for som_predef: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:30:16,596 - root - ERROR - main:664 - Delta E calculation failed for dbscan: deltaE_ciede2000() missing 1 required positional argument: 'lab2'
2025-08-08 13:30:16,596 - root - INFO - timer:93 - Completed: Segmentation with k_type: predefined in 65.56 seconds
2025-08-08 13:30:16,597 - root - INFO - timer:93 - Completed: Processing test image 5/5 in 131.99 seconds
2025-08-08 13:30:16,598 - root - INFO - timer:89 - Starting: Results saving
2025-08-08 13:30:16,602 - root - INFO - save_delta_e_results:69 - Saved all Delta E results to c:\Users\LENOVO\Desktop\prints\output\analysis\delta_e\block_delta_e.csv
2025-08-08 13:30:16,602 - root - INFO - main:691 - Saved Delta E results for 20 method combinations
2025-08-08 13:30:16,602 - root - INFO - timer:93 - Completed: Results saving in 0.00 seconds
2025-08-08 13:30:16,602 - root - INFO - main:703 - ================================================================================
2025-08-08 13:30:16,606 - root - INFO - main:704 - PROCESSING COMPLETED IN 677.51 SECONDS
2025-08-08 13:30:16,606 - root - INFO - main:705 - ================================================================================
2025-08-08 13:30:16,645 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-08-15 17:18:39,298 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-08-15 17:18:39,298 - root - INFO - main:418 - ================================================================================
2025-08-15 17:18:39,302 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-08-15 17:18:39,302 - root - INFO - main:420 - ================================================================================
2025-08-15 17:18:39,302 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-08-15 17:18:39,302 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-08-15 17:18:39,302 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-08-15 17:18:39,304 - root - INFO - timer:89 - Starting: Configuration loading
2025-08-15 17:18:39,304 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-08-15 17:18:39,317 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-08-15 17:18:39,320 - root - INFO - validate_processing_config:160 - Configuration validation passed
2025-08-15 17:18:39,321 - root - INFO - timer:93 - Completed: Configuration loading in 0.02 seconds
2025-08-15 17:18:39,322 - root - INFO - main:450 - Processing dataset: block
2025-08-15 17:18:39,323 - root - INFO - main:451 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-08-15 17:18:39,323 - root - INFO - main:452 - Test images: 5 files
2025-08-15 17:18:39,323 - root - INFO - timer:89 - Starting: Reference image loading
2025-08-15 17:18:41,027 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-08-15 17:18:41,027 - root - INFO - timer:93 - Completed: Reference image loading in 1.70 seconds
2025-08-15 17:18:41,027 - root - INFO - timer:89 - Starting: Test images loading
2025-08-15 17:18:41,637 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-08-15 17:18:42,586 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-08-15 17:18:43,077 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-08-15 17:18:43,536 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-08-15 17:18:43,997 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-08-15 17:18:44,006 - root - INFO - main:475 - Successfully loaded 5 test images
2025-08-15 17:18:44,006 - root - INFO - timer:93 - Completed: Test images loading in 2.98 seconds
2025-08-15 17:18:44,006 - root - INFO - timer:89 - Starting: Training data preparation
2025-08-15 17:18:44,006 - root - INFO - load_data:84 - Processing 5 images
2025-08-15 17:18:45,357 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-08-15 17:18:45,362 - root - INFO - validate_loaded_data:189 - Data validation passed: 50000 total RGB-LAB pairs available
2025-08-15 17:18:45,363 - root - INFO - main:482 - Loaded data - RGB: 5 images, LAB: 5 images
2025-08-15 17:18:45,363 - root - INFO - efficient_data_sampling:200 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-08-15 17:18:45,364 - root - INFO - efficient_data_sampling:208 - Sampling 800 total samples, max 160 per image
2025-08-15 17:18:45,369 - root - INFO - efficient_data_sampling:327 - Sampling completed: 800 samples from 5 images
2025-08-15 17:18:45,370 - root - INFO - efficient_data_sampling:328 - RGB range: [21.00, 226.00]
2025-08-15 17:18:45,370 - root - INFO - efficient_data_sampling:329 - LAB ranges: L[6.67, 88.63], a[-3.00, 4.00], b[-2.00, 10.00]
2025-08-15 17:18:45,371 - root - INFO - timer:93 - Completed: Training data preparation in 1.36 seconds
2025-08-15 17:18:45,371 - root - INFO - timer:89 - Starting: Data splitting
2025-08-15 17:18:45,375 - root - INFO - main:492 - Training set: (640, 3), Test set: (160, 3)
2025-08-15 17:18:45,376 - root - INFO - timer:93 - Completed: Data splitting in 0.00 seconds
2025-08-15 17:18:45,376 - root - INFO - timer:89 - Starting: DBN initialization and training
2025-08-15 17:18:45,377 - root - INFO - timer:93 - Completed: DBN initialization and training in 0.00 seconds
2025-08-15 17:18:45,377 - root - ERROR - main:696 - Main execution failed: 'DBN' object has no attribute 'config'
2025-08-15 17:18:45,382 - root - INFO - main:703 - ================================================================================
2025-08-15 17:18:45,383 - root - INFO - main:704 - PROCESSING COMPLETED IN 6.08 SECONDS
2025-08-15 17:18:45,383 - root - INFO - main:705 - ================================================================================
2025-08-15 17:18:45,391 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:05:27,865 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:05:27,866 - root - INFO - main:418 - ================================================================================
2025-10-18 22:05:27,866 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:05:27,867 - root - INFO - main:420 - ================================================================================
2025-10-18 22:05:27,867 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:05:27,868 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:05:27,868 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-10-18 22:05:27,869 - root - INFO - timer:89 - Starting: Configuration loading
2025-10-18 22:05:27,869 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:05:27,882 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:05:27,882 - root - ERROR - validate_processing_config:164 - Configuration validation failed: Reference image not found: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference.jpg
2025-10-18 22:05:27,883 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:05:27,884 - root - ERROR - main:696 - Main execution failed: Processing configuration validation failed
2025-10-18 22:05:27,885 - root - INFO - main:703 - ================================================================================
2025-10-18 22:05:27,886 - root - INFO - main:704 - PROCESSING COMPLETED IN 0.02 SECONDS
2025-10-18 22:05:27,886 - root - INFO - main:705 - ================================================================================
2025-10-18 22:05:27,891 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:27:54,251 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:27:54,251 - root - INFO - main:418 - ================================================================================
2025-10-18 22:27:54,251 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:27:54,251 - root - INFO - main:420 - ================================================================================
2025-10-18 22:27:54,266 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:27:54,266 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:27:54,267 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-10-18 22:27:54,267 - root - INFO - timer:89 - Starting: Configuration loading
2025-10-18 22:27:54,267 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:27:54,275 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:27:54,275 - root - ERROR - validate_processing_config:164 - Configuration validation failed: Reference image not found: C:/Users/LENOVO/Desktop/prints/output/datasets/block/reference_images/inputs/reference.jpg
2025-10-18 22:27:54,275 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:27:54,275 - root - ERROR - main:696 - Main execution failed: Processing configuration validation failed
2025-10-18 22:27:54,282 - root - INFO - main:703 - ================================================================================
2025-10-18 22:27:54,282 - root - INFO - main:704 - PROCESSING COMPLETED IN 0.03 SECONDS
2025-10-18 22:27:54,282 - root - INFO - main:705 - ================================================================================
2025-10-18 22:27:54,289 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:28:56,478 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:28:56,478 - root - INFO - main:418 - ================================================================================
2025-10-18 22:28:56,478 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:28:56,478 - root - INFO - main:420 - ================================================================================
2025-10-18 22:28:56,478 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:28:56,478 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:28:56,478 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-10-18 22:28:56,478 - root - INFO - timer:89 - Starting: Configuration loading
2025-10-18 22:28:56,478 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:28:56,494 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:28:56,495 - root - ERROR - validate_processing_config:164 - Configuration validation failed: Reference image not found: C:/Users/LENOVO/Desktop/prints/output/datasets/block/reference_images/inputs/reference.jpg
2025-10-18 22:28:56,496 - root - INFO - timer:93 - Completed: Configuration loading in 0.02 seconds
2025-10-18 22:28:56,496 - root - ERROR - main:696 - Main execution failed: Processing configuration validation failed
2025-10-18 22:28:56,497 - root - INFO - main:703 - ================================================================================
2025-10-18 22:28:56,498 - root - INFO - main:704 - PROCESSING COMPLETED IN 0.02 SECONDS
2025-10-18 22:28:56,498 - root - INFO - main:705 - ================================================================================
2025-10-18 22:28:56,506 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:29:09,575 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:29:09,575 - root - INFO - main:418 - ================================================================================
2025-10-18 22:29:09,576 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:29:09,576 - root - INFO - main:420 - ================================================================================
2025-10-18 22:29:09,577 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:29:09,577 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:29:09,578 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-10-18 22:29:09,578 - root - INFO - timer:89 - Starting: Configuration loading
2025-10-18 22:29:09,579 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:29:09,589 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:29:09,590 - root - ERROR - validate_processing_config:164 - Configuration validation failed: Reference image not found: C:/Users/LENOVO/Desktop/prints/output/datasets/block/reference_images/inputs/reference.jpg
2025-10-18 22:29:09,591 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:29:09,591 - root - ERROR - main:696 - Main execution failed: Processing configuration validation failed
2025-10-18 22:29:09,592 - root - INFO - main:703 - ================================================================================
2025-10-18 22:29:09,593 - root - INFO - main:704 - PROCESSING COMPLETED IN 0.02 SECONDS
2025-10-18 22:29:09,593 - root - INFO - main:705 - ================================================================================
2025-10-18 22:29:09,598 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:30:27,579 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:30:27,581 - root - INFO - main:418 - ================================================================================
2025-10-18 22:30:27,581 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:30:27,581 - root - INFO - main:420 - ================================================================================
2025-10-18 22:30:27,581 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:30:27,582 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:30:27,582 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-10-18 22:30:27,583 - root - INFO - timer:89 - Starting: Configuration loading
2025-10-18 22:30:27,583 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:30:27,593 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:30:27,594 - root - ERROR - validate_processing_config:164 - Configuration validation failed: Reference image not found: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_images/reference.jpg
2025-10-18 22:30:27,595 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:30:27,595 - root - ERROR - main:696 - Main execution failed: Processing configuration validation failed
2025-10-18 22:30:27,596 - root - INFO - main:703 - ================================================================================
2025-10-18 22:30:27,597 - root - INFO - main:704 - PROCESSING COMPLETED IN 0.02 SECONDS
2025-10-18 22:30:27,597 - root - INFO - main:705 - ================================================================================
2025-10-18 22:30:27,602 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:31:36,335 - root - INFO - setup_logging:82 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:31:36,335 - root - INFO - main:418 - ================================================================================
2025-10-18 22:31:36,335 - root - INFO - main:419 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:31:36,336 - root - INFO - main:420 - ================================================================================
2025-10-18 22:31:36,336 - root - INFO - main:421 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:31:36,337 - root - INFO - main:422 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:31:36,337 - root - INFO - main:423 - Config file: configurations\block_config.yaml
2025-10-18 22:31:36,337 - root - INFO - timer:89 - Starting: Configuration loading
2025-10-18 22:31:36,338 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:31:36,350 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:31:36,351 - root - INFO - validate_processing_config:160 - Configuration validation passed
2025-10-18 22:31:36,352 - root - INFO - timer:93 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:31:36,353 - root - INFO - main:450 - Processing dataset: block
2025-10-18 22:31:36,354 - root - INFO - main:451 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_image/reference.jpg
2025-10-18 22:31:36,354 - root - INFO - main:452 - Test images: 5 files
2025-10-18 22:31:36,355 - root - INFO - timer:89 - Starting: Reference image loading
2025-10-18 22:31:37,944 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-10-18 22:31:37,945 - root - INFO - timer:93 - Completed: Reference image loading in 1.59 seconds
2025-10-18 22:31:37,946 - root - INFO - timer:89 - Starting: Test images loading
2025-10-18 22:31:38,524 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-10-18 22:31:39,246 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-10-18 22:31:39,652 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-10-18 22:31:40,093 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-10-18 22:31:40,547 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-10-18 22:31:40,548 - root - INFO - main:475 - Successfully loaded 5 test images
2025-10-18 22:31:40,548 - root - INFO - timer:93 - Completed: Test images loading in 2.60 seconds
2025-10-18 22:31:40,549 - root - INFO - timer:89 - Starting: Training data preparation
2025-10-18 22:31:40,549 - root - INFO - load_data:84 - Processing 5 images
2025-10-18 22:31:41,807 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-10-18 22:31:41,812 - root - INFO - validate_loaded_data:189 - Data validation passed: 50000 total RGB-LAB pairs available
2025-10-18 22:31:41,813 - root - INFO - main:482 - Loaded data - RGB: 5 images, LAB: 5 images
2025-10-18 22:31:41,813 - root - INFO - efficient_data_sampling:200 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-10-18 22:31:41,814 - root - INFO - efficient_data_sampling:208 - Sampling 800 total samples, max 160 per image
2025-10-18 22:31:41,819 - root - INFO - efficient_data_sampling:327 - Sampling completed: 800 samples from 5 images
2025-10-18 22:31:41,820 - root - INFO - efficient_data_sampling:328 - RGB range: [22.00, 227.00]
2025-10-18 22:31:41,820 - root - INFO - efficient_data_sampling:329 - LAB ranges: L[7.45, 89.02], a[-3.00, 4.00], b[-2.00, 10.00]
2025-10-18 22:31:41,821 - root - INFO - timer:93 - Completed: Training data preparation in 1.27 seconds
2025-10-18 22:31:41,821 - root - INFO - timer:89 - Starting: Data splitting
2025-10-18 22:31:41,824 - root - INFO - main:492 - Training set: (640, 3), Test set: (160, 3)
2025-10-18 22:31:41,824 - root - INFO - timer:93 - Completed: Data splitting in 0.00 seconds
2025-10-18 22:31:41,825 - root - INFO - timer:89 - Starting: DBN initialization and training
2025-10-18 22:31:41,826 - root - INFO - timer:93 - Completed: DBN initialization and training in 0.00 seconds
2025-10-18 22:31:41,827 - root - ERROR - main:696 - Main execution failed: 'int' object has no attribute 'hidden_layers'
2025-10-18 22:31:41,829 - root - INFO - main:703 - ================================================================================
2025-10-18 22:31:41,829 - root - INFO - main:704 - PROCESSING COMPLETED IN 5.50 SECONDS
2025-10-18 22:31:41,830 - root - INFO - main:705 - ================================================================================
2025-10-18 22:31:41,837 - root - WARNING - main:715 - Failed to save profiling results: print_stats() got an unexpected keyword argument 'file'
2025-10-18 22:46:58,543 - root - INFO - setup_logging:84 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:46:58,544 - root - INFO - main:420 - ================================================================================
2025-10-18 22:46:58,544 - root - INFO - main:421 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:46:58,545 - root - INFO - main:422 - ================================================================================
2025-10-18 22:46:58,545 - root - INFO - main:423 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:46:58,546 - root - INFO - main:424 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:46:58,546 - root - INFO - main:425 - Config file: configurations\block_config.yaml
2025-10-18 22:46:58,546 - root - INFO - timer:91 - Starting: Configuration loading
2025-10-18 22:46:58,547 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:46:58,558 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:46:58,560 - root - INFO - validate_processing_config:162 - Configuration validation passed
2025-10-18 22:46:58,560 - root - INFO - timer:95 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:46:58,561 - root - INFO - main:452 - Processing dataset: block
2025-10-18 22:46:58,562 - root - INFO - main:453 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_image/reference.jpg
2025-10-18 22:46:58,562 - root - INFO - main:454 - Test images: 5 files
2025-10-18 22:46:58,563 - root - INFO - timer:91 - Starting: Reference image loading
2025-10-18 22:47:00,404 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-10-18 22:47:00,404 - root - INFO - timer:95 - Completed: Reference image loading in 1.84 seconds
2025-10-18 22:47:00,405 - root - INFO - timer:91 - Starting: Test images loading
2025-10-18 22:47:01,026 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-10-18 22:47:01,859 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-10-18 22:47:02,292 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-10-18 22:47:02,743 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-10-18 22:47:03,213 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-10-18 22:47:03,213 - root - INFO - main:477 - Successfully loaded 5 test images
2025-10-18 22:47:03,214 - root - INFO - timer:95 - Completed: Test images loading in 2.81 seconds
2025-10-18 22:47:03,214 - root - INFO - timer:91 - Starting: Training data preparation
2025-10-18 22:47:03,215 - root - INFO - load_data:84 - Processing 5 images
2025-10-18 22:47:04,586 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-10-18 22:47:04,590 - root - INFO - validate_loaded_data:191 - Data validation passed: 50000 total RGB-LAB pairs available
2025-10-18 22:47:04,591 - root - INFO - main:484 - Loaded data - RGB: 5 images, LAB: 5 images
2025-10-18 22:47:04,591 - root - INFO - efficient_data_sampling:202 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-10-18 22:47:04,592 - root - INFO - efficient_data_sampling:210 - Sampling 800 total samples, max 160 per image
2025-10-18 22:47:04,597 - root - INFO - efficient_data_sampling:329 - Sampling completed: 800 samples from 5 images
2025-10-18 22:47:04,598 - root - INFO - efficient_data_sampling:330 - RGB range: [18.00, 224.00]
2025-10-18 22:47:04,598 - root - INFO - efficient_data_sampling:331 - LAB ranges: L[5.49, 88.24], a[-3.00, 5.00], b[-4.00, 10.00]
2025-10-18 22:47:04,599 - root - INFO - timer:95 - Completed: Training data preparation in 1.39 seconds
2025-10-18 22:47:04,599 - root - INFO - timer:91 - Starting: Data splitting
2025-10-18 22:47:04,602 - root - INFO - main:494 - Training set: (640, 3), Test set: (160, 3)
2025-10-18 22:47:04,603 - root - INFO - timer:95 - Completed: Data splitting in 0.00 seconds
2025-10-18 22:47:04,603 - root - INFO - timer:91 - Starting: DBN initialization and training
2025-10-18 22:47:04,604 - src.models.pso_dbn - INFO - __init__:106 - Initializing DBN with architecture: 3 -> [100, 50, 25] -> 3
2025-10-18 22:47:04,604 - root - INFO - timer:95 - Completed: DBN initialization and training in 0.00 seconds
2025-10-18 22:47:04,605 - root - ERROR - main:703 - Main execution failed: 'DBN' object has no attribute '_build_model'
2025-10-18 22:47:04,607 - root - INFO - main:710 - ================================================================================
2025-10-18 22:47:04,608 - root - INFO - main:711 - PROCESSING COMPLETED IN 6.06 SECONDS
2025-10-18 22:47:04,608 - root - INFO - main:712 - ================================================================================
2025-10-18 22:47:04,618 - root - INFO - main:721 - Profiling results saved to: c:\Users\LENOVO\Desktop\prints\output\profile_stats.txt
2025-10-18 22:51:44,011 - root - INFO - setup_logging:84 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 22:51:44,011 - root - INFO - main:420 - ================================================================================
2025-10-18 22:51:44,012 - root - INFO - main:421 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 22:51:44,012 - root - INFO - main:422 - ================================================================================
2025-10-18 22:51:44,013 - root - INFO - main:423 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 22:51:44,013 - root - INFO - main:424 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 22:51:44,013 - root - INFO - main:425 - Config file: configurations\block_config.yaml
2025-10-18 22:51:44,014 - root - INFO - timer:91 - Starting: Configuration loading
2025-10-18 22:51:44,014 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 22:51:44,025 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 22:51:44,027 - root - INFO - validate_processing_config:162 - Configuration validation passed
2025-10-18 22:51:44,027 - root - INFO - timer:95 - Completed: Configuration loading in 0.01 seconds
2025-10-18 22:51:44,029 - root - INFO - main:452 - Processing dataset: block
2025-10-18 22:51:44,030 - root - INFO - main:453 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_image/reference.jpg
2025-10-18 22:51:44,030 - root - INFO - main:454 - Test images: 5 files
2025-10-18 22:51:44,030 - root - INFO - timer:91 - Starting: Reference image loading
2025-10-18 22:51:45,614 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-10-18 22:51:45,615 - root - INFO - timer:95 - Completed: Reference image loading in 1.59 seconds
2025-10-18 22:51:45,615 - root - INFO - timer:91 - Starting: Test images loading
2025-10-18 22:51:46,240 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-10-18 22:51:46,992 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-10-18 22:51:47,433 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-10-18 22:51:47,901 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-10-18 22:51:48,341 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-10-18 22:51:48,341 - root - INFO - main:477 - Successfully loaded 5 test images
2025-10-18 22:51:48,342 - root - INFO - timer:95 - Completed: Test images loading in 2.73 seconds
2025-10-18 22:51:48,342 - root - INFO - timer:91 - Starting: Training data preparation
2025-10-18 22:51:48,343 - root - INFO - load_data:84 - Processing 5 images
2025-10-18 22:51:49,629 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-10-18 22:51:49,633 - root - INFO - validate_loaded_data:191 - Data validation passed: 50000 total RGB-LAB pairs available
2025-10-18 22:51:49,634 - root - INFO - main:484 - Loaded data - RGB: 5 images, LAB: 5 images
2025-10-18 22:51:49,634 - root - INFO - efficient_data_sampling:202 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-10-18 22:51:49,635 - root - INFO - efficient_data_sampling:210 - Sampling 800 total samples, max 160 per image
2025-10-18 22:51:49,638 - root - INFO - efficient_data_sampling:329 - Sampling completed: 800 samples from 5 images
2025-10-18 22:51:49,639 - root - INFO - efficient_data_sampling:330 - RGB range: [22.00, 222.00]
2025-10-18 22:51:49,639 - root - INFO - efficient_data_sampling:331 - LAB ranges: L[7.06, 87.45], a[-3.00, 4.00], b[-2.00, 9.00]
2025-10-18 22:51:49,639 - root - INFO - timer:95 - Completed: Training data preparation in 1.30 seconds
2025-10-18 22:51:49,640 - root - INFO - timer:91 - Starting: Data splitting
2025-10-18 22:51:49,642 - root - INFO - main:494 - Training set: (640, 3), Test set: (160, 3)
2025-10-18 22:51:49,643 - root - INFO - timer:95 - Completed: Data splitting in 0.00 seconds
2025-10-18 22:51:49,643 - root - INFO - timer:91 - Starting: DBN initialization and training
2025-10-18 22:51:49,644 - src.models.pso_dbn - INFO - __init__:106 - Initializing DBN with architecture: 3 -> [100, 50, 25] -> 3
2025-10-18 22:51:49,644 - root - INFO - timer:95 - Completed: DBN initialization and training in 0.00 seconds
2025-10-18 22:51:49,645 - root - ERROR - main:703 - Main execution failed: 'DBN' object has no attribute '_build_model'
2025-10-18 22:51:49,647 - root - INFO - main:710 - ================================================================================
2025-10-18 22:51:49,647 - root - INFO - main:711 - PROCESSING COMPLETED IN 5.64 SECONDS
2025-10-18 22:51:49,648 - root - INFO - main:712 - ================================================================================
2025-10-18 22:51:49,654 - root - INFO - main:721 - Profiling results saved to: c:\Users\LENOVO\Desktop\prints\output\profile_stats.txt
2025-10-18 23:01:45,498 - root - INFO - setup_logging:84 - Logging setup complete. Log file: c:\Users\LENOVO\Desktop\prints\output\processing.log
2025-10-18 23:01:45,498 - root - INFO - main:420 - ================================================================================
2025-10-18 23:01:45,498 - root - INFO - main:421 - TEXTILE COLOR ANALYSIS SYSTEM - PROCESSING START
2025-10-18 23:01:45,498 - root - INFO - main:422 - ================================================================================
2025-10-18 23:01:45,498 - root - INFO - main:423 - Current working directory: C:\Users\LENOVO\Desktop\prints
2025-10-18 23:01:45,498 - root - INFO - main:424 - Output directory: c:\Users\LENOVO\Desktop\prints\output
2025-10-18 23:01:45,498 - root - INFO - main:425 - Config file: configurations\block_config.yaml
2025-10-18 23:01:45,498 - root - INFO - timer:91 - Starting: Configuration loading
2025-10-18 23:01:45,498 - root - INFO - load_config:30 - Loading configuration from configurations\block_config.yaml...
2025-10-18 23:01:45,512 - root - INFO - load_config:34 - Configuration loaded successfully.
2025-10-18 23:01:45,516 - root - INFO - validate_processing_config:162 - Configuration validation passed
2025-10-18 23:01:45,516 - root - INFO - timer:95 - Completed: Configuration loading in 0.02 seconds
2025-10-18 23:01:45,517 - root - INFO - main:452 - Processing dataset: block
2025-10-18 23:01:45,517 - root - INFO - main:453 - Reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_image/reference.jpg
2025-10-18 23:01:45,518 - root - INFO - main:454 - Test images: 5 files
2025-10-18 23:01:45,519 - root - INFO - timer:91 - Starting: Reference image loading
2025-10-18 23:01:47,020 - root - INFO - save_reference_image:28 - Saved reference image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\reference.png
2025-10-18 23:01:47,020 - root - INFO - timer:95 - Completed: Reference image loading in 1.50 seconds
2025-10-18 23:01:47,028 - root - INFO - timer:91 - Starting: Test images loading
2025-10-18 23:01:47,575 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block1.jpg
2025-10-18 23:01:48,265 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block2.jpg
2025-10-18 23:01:48,697 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block3.jpg
2025-10-18 23:01:49,151 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block4.jpg
2025-10-18 23:01:49,606 - root - INFO - save_test_image:36 - Saved test image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\inputs\test_images\block5.jpg
2025-10-18 23:01:49,606 - root - INFO - main:477 - Successfully loaded 5 test images
2025-10-18 23:01:49,606 - root - INFO - timer:95 - Completed: Test images loading in 2.58 seconds
2025-10-18 23:01:49,606 - root - INFO - timer:91 - Starting: Training data preparation
2025-10-18 23:01:49,606 - root - INFO - load_data:84 - Processing 5 images
2025-10-18 23:01:50,890 - root - INFO - load_data:101 - rgb_data shape: (5, 30000), lab_data shape: (5, 30000)
2025-10-18 23:01:50,898 - root - INFO - validate_loaded_data:191 - Data validation passed: 50000 total RGB-LAB pairs available
2025-10-18 23:01:50,898 - root - INFO - main:484 - Loaded data - RGB: 5 images, LAB: 5 images
2025-10-18 23:01:50,898 - root - INFO - efficient_data_sampling:202 - Data is pre-flattened: RGB (5, 30000), LAB (5, 30000)
2025-10-18 23:01:50,898 - root - INFO - efficient_data_sampling:210 - Sampling 800 total samples, max 160 per image
2025-10-18 23:01:50,905 - root - INFO - efficient_data_sampling:329 - Sampling completed: 800 samples from 5 images
2025-10-18 23:01:50,906 - root - INFO - efficient_data_sampling:330 - RGB range: [22.00, 225.00]
2025-10-18 23:01:50,906 - root - INFO - efficient_data_sampling:331 - LAB ranges: L[7.06, 88.24], a[-3.00, 5.00], b[-4.00, 10.00]
2025-10-18 23:01:50,907 - root - INFO - timer:95 - Completed: Training data preparation in 1.30 seconds
2025-10-18 23:01:50,907 - root - INFO - timer:91 - Starting: Data splitting
2025-10-18 23:01:50,909 - root - INFO - main:494 - Training set: (640, 3), Test set: (160, 3)
2025-10-18 23:01:50,910 - root - INFO - timer:95 - Completed: Data splitting in 0.00 seconds
2025-10-18 23:01:50,910 - root - INFO - timer:91 - Starting: DBN initialization and training
2025-10-18 23:01:50,911 - src.models.pso_dbn - INFO - __init__:105 - Initializing DBN with architecture: 3 -> [100, 50, 25] -> 3
2025-10-18 23:01:51,250 - src.models.pso_dbn - INFO - _build_model:157 - DBN model built with 7503 parameters
2025-10-18 23:01:51,250 - root - INFO - main:507 - DBN initialized with architecture: 3 -> [100, 50, 25] -> 3
2025-10-18 23:01:51,265 - root - INFO - main:519 - Scaled training data - X: (640, 3), Y: (640, 3)
2025-10-18 23:01:51,265 - root - INFO - main:520 - X range: [0.000, 1.000]
2025-10-18 23:01:51,265 - root - INFO - main:521 - Y range: [0.000, 1.000]
2025-10-18 23:01:51,351 - root - INFO - main:528 - Initial model has 20 weight layers
2025-10-18 23:01:51,352 - root - INFO - main:530 - Layer 0: shape (3, 100), range [-0.241, 0.241]
2025-10-18 23:01:51,353 - root - INFO - main:530 - Layer 1: shape (100,), range [0.000, 0.000]
2025-10-18 23:01:51,353 - root - INFO - main:530 - Layer 2: shape (100,), range [1.000, 1.000]
2025-10-18 23:01:51,354 - root - INFO - main:530 - Layer 3: shape (100,), range [0.000, 0.000]
2025-10-18 23:01:51,354 - root - INFO - main:530 - Layer 4: shape (100,), range [0.000, 0.000]
2025-10-18 23:01:51,355 - root - INFO - main:530 - Layer 5: shape (100,), range [1.000, 1.000]
2025-10-18 23:01:51,355 - root - INFO - main:530 - Layer 6: shape (100, 50), range [-0.200, 0.200]
2025-10-18 23:01:51,356 - root - INFO - main:530 - Layer 7: shape (50,), range [0.000, 0.000]
2025-10-18 23:01:51,356 - root - INFO - main:530 - Layer 8: shape (50,), range [1.000, 1.000]
2025-10-18 23:01:51,356 - root - INFO - main:530 - Layer 9: shape (50,), range [0.000, 0.000]
2025-10-18 23:01:51,357 - root - INFO - main:530 - Layer 10: shape (50,), range [0.000, 0.000]
2025-10-18 23:01:51,357 - root - INFO - main:530 - Layer 11: shape (50,), range [1.000, 1.000]
2025-10-18 23:01:51,358 - root - INFO - main:530 - Layer 12: shape (50, 25), range [-0.283, 0.283]
2025-10-18 23:01:51,358 - root - INFO - main:530 - Layer 13: shape (25,), range [0.000, 0.000]
2025-10-18 23:01:51,359 - root - INFO - main:530 - Layer 14: shape (25,), range [1.000, 1.000]
2025-10-18 23:01:51,359 - root - INFO - main:530 - Layer 15: shape (25,), range [0.000, 0.000]
2025-10-18 23:01:51,360 - root - INFO - main:530 - Layer 16: shape (25,), range [0.000, 0.000]
2025-10-18 23:01:51,360 - root - INFO - main:530 - Layer 17: shape (25,), range [1.000, 1.000]
2025-10-18 23:01:51,361 - root - INFO - main:530 - Layer 18: shape (25, 3), range [-0.449, 0.456]
2025-10-18 23:01:51,361 - root - INFO - main:530 - Layer 19: shape (3,), range [0.000, 0.000]
2025-10-18 23:01:51,362 - root - INFO - safe_pso_optimization:348 - PSO optimization attempt 1/3
2025-10-18 23:01:51,362 - root - INFO - timer:91 - Starting: PSO optimization
2025-10-18 23:01:51,363 - src.models.pso_dbn - WARNING - pso_optimize:557 - Using legacy pso_optimize function. Consider upgrading to PSOOptimizer class.
2025-10-18 23:01:51,363 - src.models.pso_dbn - INFO - optimize:296 - Starting PSO optimization with config: {'swarmsize': 20, 'maxiter': 50, 'w': 0.7, 'c1': 2.0, 'c2': 2.0}
2025-10-18 23:04:30,738 - src.models.pso_dbn - WARNING - optimize:362 - PSO produced invalid weights, using best found weights
2025-10-18 23:04:30,738 - src.models.pso_dbn - INFO - optimize:365 - PSO optimization completed in 159.37s - Final fitness: 0.021946
2025-10-18 23:04:30,738 - root - INFO - timer:95 - Completed: PSO optimization in 159.38 seconds
2025-10-18 23:04:30,738 - root - INFO - safe_pso_optimization:362 - PSO optimization completed successfully
2025-10-18 23:04:30,738 - root - INFO - timer:95 - Completed: DBN initialization and training in 159.83 seconds
2025-10-18 23:04:30,738 - root - INFO - timer:91 - Starting: Reference image processing
2025-10-18 23:04:30,738 - root - INFO - process_reference_image:373 - Processing reference image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_image/reference.jpg
2025-10-18 23:04:30,738 - root - INFO - load_and_preprocess_image:285 - Loading image from C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/reference_image/reference.jpg
2025-10-18 23:04:31,117 - root - INFO - load_and_preprocess_image:290 - Starting preprocessing
2025-10-18 23:04:31,117 - root - INFO - preprocess:67 - Starting preprocessing
2025-10-18 23:04:31,149 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-10-18 23:04:32,396 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-10-18 23:04:32,712 - root - INFO - estimate_n_colors:33 - Estimated 299 unique colors, setting n_colors to 8
2025-10-18 23:04:33,570 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-10-18 23:04:33,570 - root - INFO - preprocess:86 - Resized to 256x256
2025-10-18 23:04:33,570 - root - INFO - preprocess:88 - Preprocessing completed
2025-10-18 23:04:33,570 - root - INFO - load_and_preprocess_image:295 - Preprocessing completed
2025-10-18 23:04:33,581 - root - INFO - process_reference_image:392 - Resizing preprocessed image to 256x256
2025-10-18 23:04:33,581 - root - INFO - process_reference_image:396 - Subsampling pixels for cluster determination
2025-10-18 23:04:33,584 - root - INFO - determine_optimal_clusters:310 - Determining optimal number of clusters
2025-10-18 23:04:33,586 - root - INFO - determine_optimal_clusters:312 - Number of unique colors after quantization: 21
2025-10-18 23:04:33,589 - root - INFO - optimal_clusters:52 - Unique colors: 21. Adjusted max_k: 5
2025-10-18 23:04:33,589 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:04:33,709 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.951673150062561, CH=450824.34375
2025-10-18 23:04:33,709 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:04:33,815 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8278075456619263, CH=611948.1875
2025-10-18 23:04:33,815 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:04:33,964 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7645464539527893, CH=840853.25
2025-10-18 23:04:33,964 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:04:33,964 - root - INFO - determine_optimal_clusters:314 - Optimal number of clusters determined: 3
2025-10-18 23:04:33,964 - root - INFO - process_reference_image:403 - Determining the number of clusters using DPC
2025-10-18 23:04:33,964 - root - INFO - optimal_clusters_dpc:178 - Number of unique colors: 21. Adjusting max_k to: 10
2025-10-18 23:04:33,964 - root - INFO - dpc_clustering:128 - Starting Density Peak Clustering
2025-10-18 23:04:33,964 - root - INFO - dpc_clustering:159 - Density Peak Clustering completed
2025-10-18 23:04:33,964 - root - INFO - optimal_clusters_dpc:195 - Optimal number of clusters determined by DPC: 10
2025-10-18 23:04:33,964 - root - INFO - perform_segmentation:331 - Performing K-means segmentation with optimal k
2025-10-18 23:04:33,979 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:04:34,047 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:04:34,047 - src.models.pso_dbn - INFO - convert_colors_to_cielab_dbn:509 - Converting 3 RGB colors to CIELAB using PSO-DBN
2025-10-18 23:04:34,047 - src.models.pso_dbn - WARNING - predict:254 - Model has not been trained yet
2025-10-18 23:04:34,301 - src.models.pso_dbn - INFO - convert_colors_to_cielab_dbn:545 - Color conversion using PSO-DBN completed successfully
2025-10-18 23:04:34,301 - root - INFO - perform_segmentation:344 - Performing SOM segmentation with optimal k
2025-10-18 23:04:34,301 - root - INFO - som_segmentation:36 - Starting SOM segmentation with 3 clusters
2025-10-18 23:04:35,952 - root - INFO - som_segmentation:46 - SOM segmentation completed with 3 clusters
2025-10-18 23:04:35,952 - src.models.pso_dbn - INFO - convert_colors_to_cielab_dbn:509 - Converting 3 RGB colors to CIELAB using PSO-DBN
2025-10-18 23:04:35,967 - src.models.pso_dbn - WARNING - predict:254 - Model has not been trained yet
2025-10-18 23:04:36,081 - src.models.pso_dbn - INFO - convert_colors_to_cielab_dbn:545 - Color conversion using PSO-DBN completed successfully
2025-10-18 23:04:36,081 - root - INFO - save_reference_summary:61 - Saved reference summary to c:\Users\LENOVO\Desktop\prints\output\datasets\block\summaries\reference_summary.png
2025-10-18 23:04:36,081 - root - INFO - main:552 - Reference processed - target colors: 3, DPC k: 10
2025-10-18 23:04:36,081 - root - INFO - timer:95 - Completed: Reference image processing in 5.34 seconds
2025-10-18 23:04:36,081 - root - INFO - timer:91 - Starting: Processing test image 1/5
2025-10-18 23:04:36,081 - root - INFO - main:565 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block1.jpg
2025-10-18 23:04:36,299 - root - INFO - preprocess:67 - Starting preprocessing
2025-10-18 23:04:36,329 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-10-18 23:04:37,563 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-10-18 23:04:37,895 - root - INFO - estimate_n_colors:33 - Estimated 339 unique colors, setting n_colors to 8
2025-10-18 23:04:38,378 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-10-18 23:04:38,378 - root - INFO - preprocess:86 - Resized to 128x128
2025-10-18 23:04:38,378 - root - INFO - preprocess:88 - Preprocessing completed
2025-10-18 23:04:38,378 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block1\preprocessed.png
2025-10-18 23:04:38,402 - root - INFO - main:589 - Preprocessing completed - unique colors: 133
2025-10-18 23:04:38,403 - root - INFO - timer:91 - Starting: Segmentation with k_type: determined
2025-10-18 23:04:38,403 - root - INFO - main:598 - Starting segmentation with k_type: determined
2025-10-18 23:04:38,404 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:04:38,404 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:04:38,593 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:04:38,632 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:04:38,633 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:04:38,634 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:04:40,508 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9739011526107788, CH=4088055.75
2025-10-18 23:04:40,508 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:04:42,383 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9620038866996765, CH=3887554.0
2025-10-18 23:04:42,383 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:04:44,265 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9495277404785156, CH=3773006.25
2025-10-18 23:04:44,265 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:04:44,265 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:04:44,265 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:04:44,302 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:04:44,302 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:04:44,303 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:04:44,304 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:04:44,496 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:04:44,496 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:04:44,496 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:04:44,496 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:04:44,496 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:04:44,510 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:04:44,743 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:04:44,796 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:04:44,796 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:04:44,796 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:04:46,676 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9733018279075623, CH=3664606.0
2025-10-18 23:04:46,676 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:04:48,576 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9617434740066528, CH=3622859.25
2025-10-18 23:04:48,576 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:04:50,486 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9492170214653015, CH=3759358.0
2025-10-18 23:04:50,486 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:04:50,486 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:04:50,507 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:04:50,508 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:04:50,510 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:04:52,391 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9851518273353577, CH=3257148.25
2025-10-18 23:04:52,391 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:04:54,276 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9747366905212402, CH=4038138.75
2025-10-18 23:04:54,276 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:04:54,682 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:04:54,682 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:04:54,690 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:04:54,882 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:04:54,959 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:04:54,959 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:04:54,959 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:04:56,841 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9840271472930908, CH=2685520.5
2025-10-18 23:04:56,841 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:04:57,273 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:04:57,273 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:04:57,273 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:04:57,480 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:04:57,496 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:04:57,496 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:04:57,496 - root - INFO - process:743 - Processing completed in 19.09s. Successful: 0, Errors: 5
2025-10-18 23:04:57,496 - root - WARNING - main:625 - No successful segmentation results for determined
2025-10-18 23:04:57,496 - root - INFO - timer:95 - Completed: Segmentation with k_type: determined in 19.09 seconds
2025-10-18 23:04:57,496 - root - INFO - timer:91 - Starting: Segmentation with k_type: predefined
2025-10-18 23:04:57,496 - root - INFO - main:598 - Starting segmentation with k_type: predefined
2025-10-18 23:04:57,496 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:04:57,496 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:04:57,728 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:04:57,759 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:04:57,759 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:04:57,759 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:04:59,657 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9734815359115601, CH=3663099.75
2025-10-18 23:04:59,657 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:05:01,560 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.962372362613678, CH=3530369.25
2025-10-18 23:05:01,560 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:05:03,493 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9519168138504028, CH=3712667.0
2025-10-18 23:05:03,493 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:05:03,493 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:05:03,493 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:05:03,515 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:05:03,515 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:03,516 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:03,516 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:05:03,746 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:05:03,746 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:05:03,762 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:05:03,762 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:03,764 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:03,764 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:05:03,977 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:05:04,008 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:05:04,008 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:04,008 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:05,894 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.974992573261261, CH=4356592.5
2025-10-18 23:05:05,894 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:05:07,780 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9632768630981445, CH=3838041.25
2025-10-18 23:05:07,780 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:05:09,656 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8456405401229858, CH=3858310.25
2025-10-18 23:05:09,656 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:05:09,656 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:05:09,680 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:05:09,680 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:09,680 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:05:11,568 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9842438697814941, CH=2746131.75
2025-10-18 23:05:11,568 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:13,438 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9735122919082642, CH=4223654.5
2025-10-18 23:05:13,438 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:05:13,849 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:13,849 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:13,849 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:05:14,065 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:05:14,089 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:05:14,089 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:14,089 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:05:16,006 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9844955205917358, CH=2878364.5
2025-10-18 23:05:16,006 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:05:16,454 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:16,454 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:16,454 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:05:16,687 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:05:16,687 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:05:16,687 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:05:16,687 - root - INFO - process:743 - Processing completed in 19.19s. Successful: 0, Errors: 5
2025-10-18 23:05:16,687 - root - WARNING - main:625 - No successful segmentation results for predefined
2025-10-18 23:05:16,687 - root - INFO - timer:95 - Completed: Segmentation with k_type: predefined in 19.19 seconds
2025-10-18 23:05:16,687 - root - INFO - timer:95 - Completed: Processing test image 1/5 in 40.61 seconds
2025-10-18 23:05:16,687 - root - INFO - timer:91 - Starting: Processing test image 2/5
2025-10-18 23:05:16,687 - root - INFO - main:565 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block2.jpg
2025-10-18 23:05:17,020 - root - INFO - preprocess:67 - Starting preprocessing
2025-10-18 23:05:17,043 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-10-18 23:05:18,420 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-10-18 23:05:18,758 - root - INFO - estimate_n_colors:33 - Estimated 317 unique colors, setting n_colors to 8
2025-10-18 23:05:19,186 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-10-18 23:05:19,186 - root - INFO - preprocess:86 - Resized to 128x128
2025-10-18 23:05:19,186 - root - INFO - preprocess:88 - Preprocessing completed
2025-10-18 23:05:19,186 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block2\preprocessed.png
2025-10-18 23:05:19,196 - root - INFO - main:589 - Preprocessing completed - unique colors: 133
2025-10-18 23:05:19,212 - root - INFO - timer:91 - Starting: Segmentation with k_type: determined
2025-10-18 23:05:19,212 - root - INFO - main:598 - Starting segmentation with k_type: determined
2025-10-18 23:05:19,212 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:05:19,213 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:05:19,438 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:05:19,487 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:05:19,487 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:19,490 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:21,412 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9663938283920288, CH=2767125.75
2025-10-18 23:05:21,412 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:05:23,352 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8624221682548523, CH=2316988.0
2025-10-18 23:05:23,352 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:05:25,322 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8835924863815308, CH=3242152.25
2025-10-18 23:05:25,322 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:05:25,322 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:05:25,322 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:05:25,347 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:05:25,347 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:25,347 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:25,347 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:05:25,564 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:05:25,564 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:05:25,575 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:05:25,575 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:25,575 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:25,575 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:05:25,776 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:05:25,819 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:05:25,820 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:25,820 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:27,745 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9668697118759155, CH=2861795.25
2025-10-18 23:05:27,745 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:05:29,686 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9488219022750854, CH=2770786.0
2025-10-18 23:05:29,686 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:05:31,679 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8834084868431091, CH=3299506.5
2025-10-18 23:05:31,679 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:05:31,679 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:05:31,707 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:05:31,707 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:31,709 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:05:33,659 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9803400635719299, CH=2553446.75
2025-10-18 23:05:33,659 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:35,624 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9658323526382446, CH=2671587.0
2025-10-18 23:05:35,624 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:05:36,056 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:36,056 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:36,056 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:05:36,257 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:05:36,300 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:05:36,300 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:36,302 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:05:38,220 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9805352687835693, CH=2568351.5
2025-10-18 23:05:38,220 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:05:38,637 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:38,637 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:38,637 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:05:38,853 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:05:38,853 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:05:38,868 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:05:38,868 - root - INFO - process:743 - Processing completed in 19.66s. Successful: 0, Errors: 5
2025-10-18 23:05:38,868 - root - WARNING - main:625 - No successful segmentation results for determined
2025-10-18 23:05:38,868 - root - INFO - timer:95 - Completed: Segmentation with k_type: determined in 19.66 seconds
2025-10-18 23:05:38,868 - root - INFO - timer:91 - Starting: Segmentation with k_type: predefined
2025-10-18 23:05:38,868 - root - INFO - main:598 - Starting segmentation with k_type: predefined
2025-10-18 23:05:38,868 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:05:38,868 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:05:39,122 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:05:39,150 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:05:39,150 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:39,150 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:41,083 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9647253751754761, CH=2750097.0
2025-10-18 23:05:41,091 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:05:43,041 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8825886845588684, CH=2533371.25
2025-10-18 23:05:43,041 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:05:44,972 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8772339820861816, CH=2970745.25
2025-10-18 23:05:44,972 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:05:44,972 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:05:44,988 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:05:45,010 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:05:45,010 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:45,011 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:45,011 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:05:45,211 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:05:45,211 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:05:45,211 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:05:45,225 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:45,225 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:05:45,225 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:05:45,488 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:05:45,515 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:05:45,515 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:45,515 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:47,445 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9653185606002808, CH=2885899.5
2025-10-18 23:05:47,461 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:05:49,434 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8842965960502625, CH=2645101.0
2025-10-18 23:05:49,434 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:05:51,399 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8838027119636536, CH=3342489.0
2025-10-18 23:05:51,399 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:05:51,399 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:05:51,418 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:05:51,419 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:51,420 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:05:53,388 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9811145663261414, CH=2859769.5
2025-10-18 23:05:53,388 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:05:55,331 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9656546115875244, CH=2929237.25
2025-10-18 23:05:55,331 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:05:55,767 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:55,767 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:55,775 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:05:55,984 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:05:56,013 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:05:56,013 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:05:56,013 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:05:57,944 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9812064170837402, CH=2871275.5
2025-10-18 23:05:57,944 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:05:58,437 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:58,437 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:05:58,453 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:05:58,654 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:05:58,654 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:05:58,670 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:05:58,670 - root - INFO - process:743 - Processing completed in 19.80s. Successful: 0, Errors: 5
2025-10-18 23:05:58,670 - root - WARNING - main:625 - No successful segmentation results for predefined
2025-10-18 23:05:58,670 - root - INFO - timer:95 - Completed: Segmentation with k_type: predefined in 19.80 seconds
2025-10-18 23:05:58,670 - root - INFO - timer:95 - Completed: Processing test image 2/5 in 41.98 seconds
2025-10-18 23:05:58,670 - root - INFO - timer:91 - Starting: Processing test image 3/5
2025-10-18 23:05:58,670 - root - INFO - main:565 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block3.jpg
2025-10-18 23:05:58,876 - root - INFO - preprocess:67 - Starting preprocessing
2025-10-18 23:05:58,899 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-10-18 23:06:00,245 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-10-18 23:06:00,609 - root - INFO - estimate_n_colors:33 - Estimated 357 unique colors, setting n_colors to 8
2025-10-18 23:06:01,056 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-10-18 23:06:01,056 - root - INFO - preprocess:86 - Resized to 128x128
2025-10-18 23:06:01,056 - root - INFO - preprocess:88 - Preprocessing completed
2025-10-18 23:06:01,056 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block3\preprocessed.png
2025-10-18 23:06:01,082 - root - INFO - main:589 - Preprocessing completed - unique colors: 132
2025-10-18 23:06:01,082 - root - INFO - timer:91 - Starting: Segmentation with k_type: determined
2025-10-18 23:06:01,082 - root - INFO - main:598 - Starting segmentation with k_type: determined
2025-10-18 23:06:01,082 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:06:01,082 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:06:01,279 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:06:01,302 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:06:01,310 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:01,311 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:03,226 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8255873918533325, CH=1364119.375
2025-10-18 23:06:03,226 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:05,189 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.8140202164649963, CH=1567571.375
2025-10-18 23:06:05,189 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:06:07,115 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7344357371330261, CH=1768948.25
2025-10-18 23:06:07,115 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-10-18 23:06:07,115 - root - INFO - segment:410 - Optimal k determined: 4
2025-10-18 23:06:07,115 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 4 clusters
2025-10-18 23:06:07,145 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 4 clusters
2025-10-18 23:06:07,145 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:07,145 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:07,145 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:06:07,339 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:06:07,339 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:06:07,339 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:06:07,339 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:07,339 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:07,339 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:06:07,595 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:06:07,626 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:06:07,627 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:07,627 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:09,560 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9336887001991272, CH=1195643.25
2025-10-18 23:06:09,560 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:11,487 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.794279932975769, CH=1504592.875
2025-10-18 23:06:11,487 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:06:13,374 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7297132611274719, CH=1585570.5
2025-10-18 23:06:13,374 - root - INFO - optimal_clusters:74 - Optimal k determined: 4
2025-10-18 23:06:13,374 - root - INFO - segment:511 - Optimal k determined: 4
2025-10-18 23:06:13,396 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 4
2025-10-18 23:06:13,396 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:13,401 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:06:15,322 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9651622772216797, CH=1830675.125
2025-10-18 23:06:15,330 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:17,215 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8022227883338928, CH=1479323.5
2025-10-18 23:06:17,215 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:19,135 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.7501685619354248, CH=1231925.375
2025-10-18 23:06:19,135 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:06:19,573 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:19,573 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:19,573 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:06:19,789 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:06:19,828 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:06:19,829 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:19,831 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:06:21,723 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9651099443435669, CH=1811067.375
2025-10-18 23:06:21,723 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:06:22,177 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:22,177 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:22,177 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:06:22,378 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:06:22,378 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:06:22,378 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:06:22,378 - root - INFO - process:743 - Processing completed in 21.30s. Successful: 0, Errors: 5
2025-10-18 23:06:22,378 - root - WARNING - main:625 - No successful segmentation results for determined
2025-10-18 23:06:22,378 - root - INFO - timer:95 - Completed: Segmentation with k_type: determined in 21.30 seconds
2025-10-18 23:06:22,378 - root - INFO - timer:91 - Starting: Segmentation with k_type: predefined
2025-10-18 23:06:22,394 - root - INFO - main:598 - Starting segmentation with k_type: predefined
2025-10-18 23:06:22,394 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:06:22,395 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:06:22,610 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:06:22,634 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:06:22,634 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:22,634 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:24,519 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.818831205368042, CH=1345470.375
2025-10-18 23:06:24,519 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:26,453 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.795914351940155, CH=1617940.125
2025-10-18 23:06:26,453 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:06:28,378 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8761316537857056, CH=1712587.5
2025-10-18 23:06:28,378 - root - INFO - optimal_clusters:74 - Optimal k determined: 5
2025-10-18 23:06:28,378 - root - INFO - segment:410 - Optimal k determined: 5
2025-10-18 23:06:28,378 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 5 clusters
2025-10-18 23:06:28,419 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 5 clusters
2025-10-18 23:06:28,420 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:28,421 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:28,422 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:06:28,635 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:06:28,635 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:06:28,635 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:06:28,635 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:28,635 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:28,645 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:06:28,873 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:06:28,895 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:06:28,903 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:28,905 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:30,808 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8025867938995361, CH=1347924.5
2025-10-18 23:06:30,808 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:32,667 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.7058406472206116, CH=1183625.25
2025-10-18 23:06:32,667 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:06:34,545 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.7203465104103088, CH=1709957.5
2025-10-18 23:06:34,545 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:06:34,545 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:06:34,566 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:06:34,566 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:34,569 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:06:36,496 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9648815393447876, CH=1763662.375
2025-10-18 23:06:36,496 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:38,407 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.8229429721832275, CH=1358957.5
2025-10-18 23:06:38,407 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:06:38,850 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:38,850 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:38,850 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:06:39,060 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:06:39,086 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:06:39,086 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:39,086 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:06:40,982 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9650978446006775, CH=1830932.25
2025-10-18 23:06:40,982 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:06:41,410 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:41,410 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:06:41,410 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:06:41,610 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:06:41,610 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:06:41,610 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:06:41,610 - root - INFO - process:743 - Processing completed in 19.22s. Successful: 0, Errors: 5
2025-10-18 23:06:41,610 - root - WARNING - main:625 - No successful segmentation results for predefined
2025-10-18 23:06:41,610 - root - INFO - timer:95 - Completed: Segmentation with k_type: predefined in 19.23 seconds
2025-10-18 23:06:41,626 - root - INFO - timer:95 - Completed: Processing test image 3/5 in 42.96 seconds
2025-10-18 23:06:41,626 - root - INFO - timer:91 - Starting: Processing test image 4/5
2025-10-18 23:06:41,626 - root - INFO - main:565 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block4.jpg
2025-10-18 23:06:41,842 - root - INFO - preprocess:67 - Starting preprocessing
2025-10-18 23:06:41,869 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-10-18 23:06:43,200 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-10-18 23:06:43,550 - root - INFO - estimate_n_colors:33 - Estimated 258 unique colors, setting n_colors to 8
2025-10-18 23:06:43,968 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-10-18 23:06:43,976 - root - INFO - preprocess:86 - Resized to 128x128
2025-10-18 23:06:43,976 - root - INFO - preprocess:88 - Preprocessing completed
2025-10-18 23:06:43,978 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block4\preprocessed.png
2025-10-18 23:06:43,997 - root - INFO - main:589 - Preprocessing completed - unique colors: 145
2025-10-18 23:06:43,999 - root - INFO - timer:91 - Starting: Segmentation with k_type: determined
2025-10-18 23:06:43,999 - root - INFO - main:598 - Starting segmentation with k_type: determined
2025-10-18 23:06:44,000 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:06:44,000 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:06:44,182 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:06:44,216 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:06:44,217 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:44,220 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:46,107 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9698630571365356, CH=3227864.0
2025-10-18 23:06:46,107 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:48,061 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9118117094039917, CH=3570189.75
2025-10-18 23:06:48,061 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:06:49,959 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9642630815505981, CH=3081567.75
2025-10-18 23:06:49,959 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:06:49,959 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:06:49,959 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:06:49,966 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:06:49,966 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:49,982 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:49,983 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:06:50,228 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:06:50,228 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:06:50,244 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:06:50,244 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:50,252 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:06:50,253 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:06:50,466 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:06:50,488 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:06:50,488 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:50,488 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:06:52,400 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9680510759353638, CH=2978726.25
2025-10-18 23:06:52,400 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:06:54,329 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9127223491668701, CH=3107192.75
2025-10-18 23:06:54,329 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:06:56,302 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9072646498680115, CH=3816628.25
2025-10-18 23:06:56,302 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:06:56,302 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:06:56,325 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:06:56,326 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:06:56,327 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:06:58,257 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9803457856178284, CH=2279099.25
2025-10-18 23:06:58,257 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:00,181 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9681203961372375, CH=3021948.0
2025-10-18 23:07:00,181 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:07:00,613 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:00,613 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:00,613 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:07:00,828 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:07:00,851 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:07:00,851 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:00,851 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:07:02,780 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9816378951072693, CH=2750022.25
2025-10-18 23:07:02,780 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:07:03,202 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:03,202 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:03,202 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:07:03,402 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:07:03,402 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:07:03,402 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:07:03,402 - root - INFO - process:743 - Processing completed in 19.40s. Successful: 0, Errors: 5
2025-10-18 23:07:03,402 - root - WARNING - main:625 - No successful segmentation results for determined
2025-10-18 23:07:03,402 - root - INFO - timer:95 - Completed: Segmentation with k_type: determined in 19.40 seconds
2025-10-18 23:07:03,402 - root - INFO - timer:91 - Starting: Segmentation with k_type: predefined
2025-10-18 23:07:03,402 - root - INFO - main:598 - Starting segmentation with k_type: predefined
2025-10-18 23:07:03,402 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:07:03,402 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:07:03,634 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:07:03,664 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:07:03,664 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:03,664 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:05,582 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9677863121032715, CH=2701075.25
2025-10-18 23:07:05,582 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:07:07,501 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9550293684005737, CH=2582403.0
2025-10-18 23:07:07,501 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:07:09,435 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9083666801452637, CH=3671639.75
2025-10-18 23:07:09,435 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:07:09,435 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:07:09,435 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:07:09,465 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:07:09,466 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:09,466 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:09,466 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:07:09,657 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:07:09,657 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:07:09,657 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:07:09,657 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:09,657 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:09,672 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:07:09,904 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:07:09,949 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:07:09,949 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:09,952 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:11,862 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9677722454071045, CH=2884979.5
2025-10-18 23:07:11,862 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:07:13,794 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9092399477958679, CH=3025059.0
2025-10-18 23:07:13,794 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:07:15,728 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9021515846252441, CH=3633084.75
2025-10-18 23:07:15,728 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:07:15,728 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:07:15,751 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:07:15,751 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:15,751 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:07:17,676 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9806346893310547, CH=2469616.0
2025-10-18 23:07:17,676 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:19,591 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.967338502407074, CH=2798099.0
2025-10-18 23:07:19,597 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:07:20,030 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:20,030 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:20,030 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:07:20,230 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:07:20,260 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:07:20,260 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:20,260 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:07:22,161 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9813299775123596, CH=2666843.5
2025-10-18 23:07:22,161 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:07:22,592 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:22,592 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:22,592 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:07:22,793 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:07:22,793 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:07:22,793 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:07:22,793 - root - INFO - process:743 - Processing completed in 19.39s. Successful: 0, Errors: 5
2025-10-18 23:07:22,793 - root - WARNING - main:625 - No successful segmentation results for predefined
2025-10-18 23:07:22,808 - root - INFO - timer:95 - Completed: Segmentation with k_type: predefined in 19.41 seconds
2025-10-18 23:07:22,808 - root - INFO - timer:95 - Completed: Processing test image 4/5 in 41.18 seconds
2025-10-18 23:07:22,808 - root - INFO - timer:91 - Starting: Processing test image 5/5
2025-10-18 23:07:22,808 - root - INFO - main:565 - Processing test image: C:/Users/LENOVO/Desktop/prints/output/datasets/block/inputs/test_images/block5.jpg
2025-10-18 23:07:23,015 - root - INFO - preprocess:67 - Starting preprocessing
2025-10-18 23:07:23,037 - root - INFO - preprocess:72 - Initial resize to approx 512x512
2025-10-18 23:07:24,382 - root - INFO - preprocess:76 - Applied non-local means denoising with h=10
2025-10-18 23:07:24,695 - root - INFO - estimate_n_colors:33 - Estimated 306 unique colors, setting n_colors to 8
2025-10-18 23:07:25,149 - root - INFO - quantize_image:47 - Quantized to 8 colors, unique colors: 8
2025-10-18 23:07:25,149 - root - INFO - preprocess:86 - Resized to 128x128
2025-10-18 23:07:25,149 - root - INFO - preprocess:88 - Preprocessing completed
2025-10-18 23:07:25,159 - root - INFO - save_preprocessed_image:45 - Saved preprocessed image to c:\Users\LENOVO\Desktop\prints\output\datasets\block\processed\block5\preprocessed.png
2025-10-18 23:07:25,176 - root - INFO - main:589 - Preprocessing completed - unique colors: 139
2025-10-18 23:07:25,177 - root - INFO - timer:91 - Starting: Segmentation with k_type: determined
2025-10-18 23:07:25,177 - root - INFO - main:598 - Starting segmentation with k_type: determined
2025-10-18 23:07:25,178 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:07:25,179 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:07:25,380 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:07:25,409 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:07:25,409 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:25,409 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:27,362 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9632189273834229, CH=2429545.0
2025-10-18 23:07:27,362 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:07:29,311 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9153538942337036, CH=2348113.75
2025-10-18 23:07:29,311 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:07:31,236 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8972602486610413, CH=2781869.25
2025-10-18 23:07:31,236 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:07:31,236 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:07:31,236 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:07:31,263 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:07:31,263 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:31,264 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:31,264 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:07:31,499 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:07:31,499 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:07:31,516 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:07:31,516 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:31,517 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:31,518 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:07:31,737 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:07:31,772 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:07:31,773 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:31,774 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:33,721 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9628270268440247, CH=2291109.75
2025-10-18 23:07:33,721 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:07:35,633 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9460875988006592, CH=2011912.5
2025-10-18 23:07:35,633 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:07:37,557 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.8995517492294312, CH=2457688.75
2025-10-18 23:07:37,557 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:07:37,557 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:07:37,572 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:07:37,572 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:37,589 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:07:39,490 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9793959259986877, CH=2406893.25
2025-10-18 23:07:39,490 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:41,423 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9646888375282288, CH=2693883.75
2025-10-18 23:07:41,423 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:07:41,824 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:41,824 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:41,824 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:07:42,056 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:07:42,088 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:07:42,088 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:42,088 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:07:44,012 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9781669974327087, CH=2026283.5
2025-10-18 23:07:44,012 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:07:44,466 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:44,466 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:07:44,466 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:07:44,682 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:07:44,682 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:07:44,682 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:07:44,682 - root - INFO - process:743 - Processing completed in 19.50s. Successful: 0, Errors: 5
2025-10-18 23:07:44,682 - root - WARNING - main:625 - No successful segmentation results for determined
2025-10-18 23:07:44,682 - root - INFO - timer:95 - Completed: Segmentation with k_type: determined in 19.50 seconds
2025-10-18 23:07:44,682 - root - INFO - timer:91 - Starting: Segmentation with k_type: predefined
2025-10-18 23:07:44,682 - root - INFO - main:598 - Starting segmentation with k_type: predefined
2025-10-18 23:07:44,682 - root - INFO - process:696 - Starting segmentation processing with methods: ['kmeans_opt', 'kmeans_predef', 'som_opt', 'som_predef', 'dbscan']
2025-10-18 23:07:44,688 - root - INFO - process:709 - Processing method: kmeans_opt
2025-10-18 23:07:44,913 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:07:44,937 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:07:44,937 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:44,937 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:46,856 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9639972448348999, CH=2562242.0
2025-10-18 23:07:46,856 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:07:48,762 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.9467560648918152, CH=2333381.25
2025-10-18 23:07:48,762 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:07:50,674 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9019841551780701, CH=3017791.75
2025-10-18 23:07:50,674 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:07:50,674 - root - INFO - segment:410 - Optimal k determined: 3
2025-10-18 23:07:50,674 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 3 clusters
2025-10-18 23:07:50,684 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 3 clusters
2025-10-18 23:07:50,684 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:50,693 - root - ERROR - process:724 - Method kmeans_opt failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:50,694 - root - INFO - process:709 - Processing method: kmeans_predef
2025-10-18 23:07:50,913 - root - INFO - segment:413 - Using predefined k: 2
2025-10-18 23:07:50,913 - root - INFO - k_mean_segmentation:23 - Starting K-means segmentation with 2 clusters
2025-10-18 23:07:50,928 - root - INFO - k_mean_segmentation:30 - K-means segmentation completed with 2 clusters
2025-10-18 23:07:50,928 - root - ERROR - segment:442 - K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:50,928 - root - ERROR - process:724 - Method kmeans_predef failed: K-means segmentation failed: 'bool' object has no attribute 'reshape'
2025-10-18 23:07:50,937 - root - INFO - process:709 - Processing method: som_opt
2025-10-18 23:07:51,176 - root - INFO - determine_k:200 - Determining optimal k for pixels with shape (16384, 3)
2025-10-18 23:07:51,219 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 5
2025-10-18 23:07:51,220 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:51,220 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:07:53,131 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.964287281036377, CH=2601000.5
2025-10-18 23:07:53,139 - root - INFO - optimal_clusters:62 - Testing k=4
2025-10-18 23:07:55,027 - root - INFO - optimal_clusters:68 - Metrics for k=4: Silhouette=0.953749418258667, CH=2336500.75
2025-10-18 23:07:55,027 - root - INFO - optimal_clusters:62 - Testing k=5
2025-10-18 23:07:56,953 - root - INFO - optimal_clusters:68 - Metrics for k=5: Silhouette=0.9052068591117859, CH=3026424.0
2025-10-18 23:07:56,953 - root - INFO - optimal_clusters:74 - Optimal k determined: 3
2025-10-18 23:07:56,953 - root - INFO - segment:511 - Optimal k determined: 3
2025-10-18 23:07:56,975 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 3
2025-10-18 23:07:56,976 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:07:56,977 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:07:58,910 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9792357683181763, CH=2414738.0
2025-10-18 23:07:58,910 - root - INFO - optimal_clusters:62 - Testing k=3
2025-10-18 23:08:00,834 - root - INFO - optimal_clusters:68 - Metrics for k=3: Silhouette=0.9626337885856628, CH=2490650.5
2025-10-18 23:08:00,849 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:08:01,265 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:08:01,265 - root - ERROR - process:724 - Method som_opt failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:08:01,265 - root - INFO - process:709 - Processing method: som_predef
2025-10-18 23:08:01,465 - root - INFO - segment:514 - Using predefined k: 2
2025-10-18 23:08:01,500 - root - INFO - optimal_clusters:52 - Unique colors: 50. Adjusted max_k: 2
2025-10-18 23:08:01,500 - root - INFO - optimal_clusters:55 - Subsampling pixels for efficiency
2025-10-18 23:08:01,500 - root - INFO - optimal_clusters:62 - Testing k=2
2025-10-18 23:08:03,401 - root - INFO - optimal_clusters:68 - Metrics for k=2: Silhouette=0.9794445037841797, CH=2432166.5
2025-10-18 23:08:03,401 - root - INFO - optimal_clusters:74 - Optimal k determined: 2
2025-10-18 23:08:03,836 - root - ERROR - segment:567 - SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:08:03,836 - root - ERROR - process:724 - Method som_predef failed: SOM segmentation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-10-18 23:08:03,836 - root - INFO - process:709 - Processing method: dbscan
2025-10-18 23:08:04,049 - root - ERROR - segment:496 - DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:08:04,049 - root - ERROR - process:724 - Method dbscan failed: DBSCAN segmentation failed: optimal_dbscan() takes 1 positional argument but 2 were given
2025-10-18 23:08:04,049 - root - ERROR - _save_preprocessed_image:683 - Failed to save preprocessed image: 'OutputManager' object has no attribute 'get_current_image_name'
2025-10-18 23:08:04,049 - root - INFO - process:743 - Processing completed in 19.37s. Successful: 0, Errors: 5
2025-10-18 23:08:04,049 - root - WARNING - main:625 - No successful segmentation results for predefined
2025-10-18 23:08:04,049 - root - INFO - timer:95 - Completed: Segmentation with k_type: predefined in 19.37 seconds
2025-10-18 23:08:04,049 - root - INFO - timer:95 - Completed: Processing test image 5/5 in 41.24 seconds
2025-10-18 23:08:04,049 - root - INFO - timer:91 - Starting: Results saving
2025-10-18 23:08:04,049 - root - WARNING - main:700 - No Delta E results to save
2025-10-18 23:08:04,049 - root - INFO - timer:95 - Completed: Results saving in 0.00 seconds
2025-10-18 23:08:04,049 - root - INFO - main:710 - ================================================================================
2025-10-18 23:08:04,049 - root - INFO - main:711 - PROCESSING COMPLETED IN 378.55 SECONDS
2025-10-18 23:08:04,049 - root - INFO - main:712 - ================================================================================
2025-10-18 23:08:04,121 - root - INFO - main:721 - Profiling results saved to: c:\Users\LENOVO\Desktop\prints\output\profile_stats.txt
